<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <meta name="google-site-verification" content="xitt2fbphh1nTeWLiTWc0lCggHuxJ5heMcAzkHW2vno">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Microsoft+YaHei+UI:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"cyun.tech","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="IntroductionHelm is the best way to find, share, and use software built Kubernetes, a software in k8s may be one separate deployment or several deployments that works together to provides service to u">
<meta property="og:type" content="article">
<meta property="og:title" content="k8s_pkg_manager">
<meta property="og:url" content="http://cyun.tech/2021/06/07/k8s-pkg-manager/index.html">
<meta property="og:site_name" content="CYun">
<meta property="og:description" content="IntroductionHelm is the best way to find, share, and use software built Kubernetes, a software in k8s may be one separate deployment or several deployments that works together to provides service to u">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2021-06-07T00:21:36.000Z">
<meta property="article:modified_time" content="2024-07-26T07:12:00.370Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="k8s">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://cyun.tech/2021/06/07/k8s-pkg-manager/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://cyun.tech/2021/06/07/k8s-pkg-manager/","path":"2021/06/07/k8s-pkg-manager/","title":"k8s_pkg_manager"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>k8s_pkg_manager | CYun</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148730544-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-148730544-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?a510d1f580c8231f8f867d14f42bb8ea"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">CYun</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Introduction"><span class="nav-number">1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Command"><span class="nav-number">2.</span> <span class="nav-text">Command</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Command-used-for-helm"><span class="nav-number">2.1.</span> <span class="nav-text">Command used for helm</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Build-a-pkg-with-Helm"><span class="nav-number">2.2.</span> <span class="nav-text">Build a pkg with Helm</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ref"><span class="nav-number">3.</span> <span class="nav-text">Ref</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jason"
      src="/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">150</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">142</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">149</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/jason-cyun" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;jason-cyun" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jason_lkm@163.com" title="E-Mail ‚Üí mailto:jason_lkm@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://cyun.tech/2021/06/07/k8s-pkg-manager/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="Jason">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CYun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="k8s_pkg_manager | CYun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          k8s_pkg_manager
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2021-06-07 08:21:36" itemprop="dateCreated datePublished" datetime="2021-06-07T08:21:36+08:00">2021-06-07</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-07-26 15:12:00" itemprop="dateModified" datetime="2024-07-26T15:12:00+08:00">2024-07-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/k8s/" itemprop="url" rel="index"><span itemprop="name">k8s</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/k8s/package/" itemprop="url" rel="index"><span itemprop="name">package</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><p>Helm is the best way to find, share, and use software built Kubernetes, a software in k8s may be one separate deployment or several deployments that works together to provides service to user, Helm manages these yaml files with concept Chart, <strong><code>Chart is a bundle of yaml files and other files related to the software</code></strong>, Chart helps you <code>define, install, and upgrade, rollback</code> even the most complex Kubernetes application, Chart likes <code>deb package</code> which creates package with xx.deb, while to <code>create an application for k8s by Helm, you need to create Chart files with fixed layout and follow its syntax</code>.</p>
<span id="more"></span>

<p>For Helm, there are three important concepts:</p>
<ul>
<li>The chart is a bundle of information necessary to create an instance of a Kubernetes application. mostly for complex application, but for deployment only, no auto scale, no monitor with Chart.</li>
<li>The config contains configuration information that can be merged into a packaged chart to create a releasable object.</li>
<li>üü¢ <strong>A release is a running instance of a chart, combined with a specific config. with release version, we can update&#x2F;rollback a chart</strong></li>
</ul>
<h1 id="Command"><a href="#Command" class="headerlink" title="Command"></a>Command</h1><p>In order to use helm, we need to install it firstly with below command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Centos7 to install snap</span></span><br><span class="line">$ yum install -y snapd</span><br><span class="line">$ systemctl <span class="built_in">enable</span> --now snapd.socket</span><br><span class="line">$ <span class="built_in">ln</span> -s /var/lib/snapd/snap /snap</span><br><span class="line"></span><br><span class="line">$ sudo snap install helm --classic</span><br></pre></td></tr></table></figure>
<p>üî¥ <strong>As helm installs application in k8s(create deployment), hence in order to use it, you MUST have kubernetes and kubectl installed before. there are required!!!</strong></p>
<p><strong>Helm and K8s compatibility</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Helm Version	Supported Kubernetes Versions</span><br><span class="line">3.5.x	        1.20.x - 1.17.x</span><br><span class="line">3.4.x	        1.19.x - 1.16.x</span><br><span class="line">3.3.x	        1.18.x - 1.15.x</span><br><span class="line">3.2.x	        1.18.x - 1.15.x</span><br><span class="line">3.1.x	        1.17.x - 1.14.x</span><br><span class="line">3.0.x	        1.16.x - 1.13.x</span><br><span class="line">2.16.x	        1.16.x - 1.15.x</span><br><span class="line">2.15.x	        1.15.x - 1.14.x</span><br><span class="line">2.14.x	        1.14.x - 1.13.x</span><br><span class="line">2.13.x	        1.13.x - 1.12.x</span><br><span class="line">2.12.x	        1.12.x - 1.11.x</span><br><span class="line">2.11.x	        1.11.x - 1.10.x</span><br><span class="line">2.10.x	        1.10.x - 1.9.x</span><br><span class="line">2.9.x	        1.10.x - 1.9.x</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://helm.sh/docs/topics/version_skew/">k8s version supported by Helm</a></p>
<h2 id="Command-used-for-helm"><a href="#Command-used-for-helm" class="headerlink" title="Command used for helm"></a>Command used for helm</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">$ sudo snap install helm --classic</span><br><span class="line"></span><br><span class="line"><span class="comment">#------------------------------------repo related----------------------------------</span></span><br><span class="line"><span class="comment"># Hub is groups of package from many repos!!!</span></span><br><span class="line"><span class="comment"># Official Hub: https://artifacthub.io/</span></span><br><span class="line"></span><br><span class="line">$ helm search hub mysql</span><br><span class="line"><span class="comment"># search from official hub which will tell you which repo has such package!!!</span></span><br><span class="line"><span class="comment"># then add the right repo with below command</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># add a chart repo, hence you can search, download, install charts from there</span></span><br><span class="line">$ helm repo add bitnami https://charts.bitnami.com/bitnami</span><br><span class="line">$ helm repo list</span><br><span class="line">NAME                	URL                                               </span><br><span class="line">bitnami              	https://charts.bitnami.com/bitnami</span><br><span class="line"></span><br><span class="line">$ helm repo update       <span class="comment"># Make sure we get the latest list of charts</span></span><br><span class="line">$ helm search repo mysql <span class="comment"># search from user added repo</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#-----------------------------------install/uninstall package-----------------------</span></span><br><span class="line">$ helm show chart bitnami/mysql</span><br><span class="line">$ helm show values bitnami/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># get all chart info</span></span><br><span class="line">$ helm show all bitnami/mysql</span><br><span class="line"><span class="comment"># get deps of this chart</span></span><br><span class="line">$ helm dep list bitnami/mysql</span><br><span class="line"></span><br><span class="line">$ helm install bitnami/mysql --generate-name</span><br><span class="line"><span class="comment"># Whenever you install a chart, a new release is created.</span></span><br><span class="line"><span class="comment"># So one chart can be installed multiple times into the same cluster.</span></span><br><span class="line"><span class="comment"># And each can be independently managed and upgraded.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># install with custom value, note myvals.yaml is merged with default!!!!</span></span><br><span class="line">$ helm show values bitnami/mysql</span><br><span class="line">$ helm install --generate-name --values=./myvals.yaml bitnami/mysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># if only change few values, you can pass it from commandline</span></span><br><span class="line">$ helm install --generate-name --<span class="built_in">set</span> auth.database=<span class="string">&quot;my_db&quot;</span> bitnami/mysql</span><br><span class="line"></span><br><span class="line">OR</span><br><span class="line"><span class="comment"># another way to install a package</span></span><br><span class="line"><span class="comment"># 1. first only download(default path: ~/.cache/helm/repository/mysql.tgz)</span></span><br><span class="line"><span class="comment"># 2. start package from chart file manually</span></span><br><span class="line">$ helm install ~/.cache/helm/repository/mysql.tgz --generate-name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># show installed chart</span></span><br><span class="line">$ helm <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># uninstall a chart</span></span><br><span class="line">$ helm uninstall mysql-1612624192</span><br><span class="line"></span><br><span class="line"><span class="comment"># check chart status</span></span><br><span class="line">$ helm status mysql-1612624192</span><br><span class="line"></span><br><span class="line"><span class="comment"># get yaml for this application</span></span><br><span class="line">$ helm get manifest mysql-1612624192</span><br></pre></td></tr></table></figure>

<h2 id="Build-a-pkg-with-Helm"><a href="#Build-a-pkg-with-Helm" class="headerlink" title="Build a pkg with Helm"></a>Build a pkg with Helm</h2><p><code>A chart is a collection of files that describe a related set of Kubernetes resources</code>. A single chart might be used to deploy something simple, like a memcached pod, or something complex, like a full web app stack with HTTP servers, databases, caches, and so on.</p>
<p><strong>Charts are created as files laid out in a particular directory tree</strong>. They can be packaged into versioned archives to be deployed.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">wordpress/</span><br><span class="line">  Chart.yaml          # A YAML file containing information about the chart</span><br><span class="line">  LICENSE             # OPTIONAL: A plain text file containing the license for the chart</span><br><span class="line">  README.md           # OPTIONAL: A human-readable README file</span><br><span class="line">  values.yaml         # The default configuration values for this chart</span><br><span class="line">  values.schema.json  # OPTIONAL: A JSON Schema for imposing a structure on the values.yaml file</span><br><span class="line">  charts/             # A directory containing any charts upon which this chart depends.</span><br><span class="line">  crds/               # Custom Resource Definitions</span><br><span class="line">  templates/          # A directory of templates that, when combined with values,</span><br><span class="line">                      # will generate valid Kubernetes manifest files.</span><br><span class="line">  templates/NOTES.txt # OPTIONAL: A plain text file containing short usage notes</span><br></pre></td></tr></table></figure>

<p>Details about charts, refer to <a target="_blank" rel="noopener" href="https://helm.sh/docs/topics/charts/">charts guidline</a></p>
<p><strong>Helm Chart templates are written in the <a target="_blank" rel="noopener" href="https://golang.org/pkg/text/template/">Go template language</a></strong>, with the addition of 50 or so add-on template functions from the Sprig library and a few other specialized functions.</p>
<p>All template files are stored in a chart‚Äôs templates&#x2F; folder. When Helm renders the charts, it will pass every file in that directory through the template engine</p>
<p><strong>Predefined Values</strong></p>
<p>Values that are supplied via a values.yaml file (or via the ‚Äìset flag) are accessible from the <code>.Values</code> object in a template. But there are other pre-defined pieces of data you can access in your templates.</p>
<p>The following values are pre-defined, are available to every template, and cannot be overridden. As with all values, the names are case sensitive.</p>
<ul>
<li>Release.Name: The name of the release (not the chart)</li>
<li>Release.Namespace: The namespace the chart was released to.</li>
<li>Release.Service: The service that conducted the release.</li>
<li>Release.IsUpgrade: This is set to true if the current operation is an upgrade or rollback.</li>
<li>Release.IsInstall: This is set to true if the current operation is an install.</li>
<li>Chart: The contents of the Chart.yaml. Thus, the chart version is obtainable as Chart.Version and the maintainers are in Chart.Maintainers.</li>
<li>Files: A map-like object containing all non-special files in the chart. This will not give you access to templates, but will give you access to additional files that are present (unless they are excluded using .helmignore). Files can be accessed using { { index .Files ‚Äúfile.name‚Äù } } or using the { {.Files.Get name } } function. You can also access the contents of the file as byte using { { .Files.GetBytes } }</li>
<li>Capabilities: A map-like object that contains information about the versions of Kubernetes ({ { .Capabilities.KubeVersion } }) and the supported Kubernetes API versions ({ { .Capabilities.APIVersions.Has ‚Äúbatch&#x2F;v1‚Äù } })</li>
</ul>
<p>NOTE: Any unknown Chart.yaml fields will be dropped. They will not be accessible inside of the Chart object. Thus, Chart.yaml cannot be used to pass arbitrarily structured data into the template. The values file can be used for that, though.</p>
<p><strong>Steps to create your own chart</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ helm create mychart</span><br><span class="line"></span><br><span class="line"><span class="comment"># modify template and values below</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># syntax check</span></span><br><span class="line">$ helm lint mychart</span><br><span class="line"></span><br><span class="line"><span class="comment"># package it with xx.tgz</span></span><br><span class="line">$ helm package mychart</span><br></pre></td></tr></table></figure>

<h1 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h1><ul>
<li><a target="_blank" rel="noopener" href="https://artifacthub.io/">Helm Hub</a></li>
<li><a target="_blank" rel="noopener" href="https://helm.sh/">Helm Website</a></li>
</ul>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpeg" alt="Jason WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/k8s/" rel="tag"># k8s</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2021/04/23/distribute-zookeeper/" rel="prev" title="distribute_zookeeper">
                  <i class="fa fa-chevron-left"></i> distribute_zookeeper
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2021/06/08/k8s-service-deep/" rel="next" title="k8s_service_deep">
                  k8s_service_deep <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 ‚Äì 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cyun All rights reserved</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"jason-bj/blog","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
