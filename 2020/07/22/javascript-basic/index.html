<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <meta name="google-site-verification" content="xitt2fbphh1nTeWLiTWc0lCggHuxJ5heMcAzkHW2vno">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Microsoft+YaHei+UI:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"cyun.tech","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="Javascript The single quote&#x2F;double quotes patterns are identical in terms of functionality ; can be ignore if unnecessary, but it’s not a good habit. There’s no Integer in JavaScript (except BigI">
<meta property="og:type" content="article">
<meta property="og:title" content="javascript_basic">
<meta property="og:url" content="http://cyun.tech/2020/07/22/javascript-basic/index.html">
<meta property="og:site_name" content="CYun">
<meta property="og:description" content="Javascript The single quote&#x2F;double quotes patterns are identical in terms of functionality ; can be ignore if unnecessary, but it’s not a good habit. There’s no Integer in JavaScript (except BigI">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2020-07-22T10:26:42.000Z">
<meta property="article:modified_time" content="2023-08-16T15:02:01.152Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="js">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://cyun.tech/2020/07/22/javascript-basic/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://cyun.tech/2020/07/22/javascript-basic/","path":"2020/07/22/javascript-basic/","title":"javascript_basic"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>javascript_basic | CYun</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148730544-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-148730544-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?a510d1f580c8231f8f867d14f42bb8ea"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">CYun</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Javascript"><span class="nav-number">1.</span> <span class="nav-text">Javascript</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#printing-in-JS"><span class="nav-number">1.1.</span> <span class="nav-text">printing in JS</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Types"><span class="nav-number">1.2.</span> <span class="nav-text">Types</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#auto-boxing"><span class="nav-number">1.2.1.</span> <span class="nav-text">auto-boxing</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Numbers-and-Dates"><span class="nav-number">1.3.</span> <span class="nav-text">Numbers and Dates</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Special-number-NaN"><span class="nav-number">1.3.1.</span> <span class="nav-text">Special number NaN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#String"><span class="nav-number">1.4.</span> <span class="nav-text">String</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#some-String-APIs-support-regex"><span class="nav-number">1.4.1.</span> <span class="nav-text">some String  APIs support regex</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Array"><span class="nav-number">1.5.</span> <span class="nav-text">Array</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#delete-an-element-from-array"><span class="nav-number">1.5.1.</span> <span class="nav-text">delete an element from array</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MAP"><span class="nav-number">1.6.</span> <span class="nav-text">MAP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Enum"><span class="nav-number">1.7.</span> <span class="nav-text">Enum</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Function"><span class="nav-number">1.8.</span> <span class="nav-text">Function</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Function-closure"><span class="nav-number">1.8.1.</span> <span class="nav-text">Function closure</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Arrow-function"><span class="nav-number">1.8.2.</span> <span class="nav-text">Arrow function</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Definition-and-Call"><span class="nav-number">1.8.3.</span> <span class="nav-text">Definition and Call</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Class-x2F-Object-x2F-object"><span class="nav-number">1.9.</span> <span class="nav-text">Class&#x2F;Object&#x2F;object</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#object"><span class="nav-number">1.9.1.</span> <span class="nav-text">object</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Class"><span class="nav-number">1.9.2.</span> <span class="nav-text">Class</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#loop-properties"><span class="nav-number">1.9.2.1.</span> <span class="nav-text">loop properties</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Symbol"><span class="nav-number">1.10.</span> <span class="nav-text">Symbol</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Iterator-x2F-Generator"><span class="nav-number">1.11.</span> <span class="nav-text">Iterator&#x2F;Generator</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Iterator"><span class="nav-number">1.11.1.</span> <span class="nav-text">Iterator</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Generator"><span class="nav-number">1.11.2.</span> <span class="nav-text">Generator</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Async-operation"><span class="nav-number">1.12.</span> <span class="nav-text">Async operation</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise-ES6"><span class="nav-number">1.12.1.</span> <span class="nav-text">Promise(ES6)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#standard-promise-API"><span class="nav-number">1.12.1.1.</span> <span class="nav-text">standard promise API</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#async-x2F-await"><span class="nav-number">1.12.2.</span> <span class="nav-text">async&#x2F;await</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#spread-destructing-operator"><span class="nav-number">1.13.</span> <span class="nav-text">spread destructing operator</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Modules"><span class="nav-number">1.14.</span> <span class="nav-text">Modules</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ES5"><span class="nav-number">1.14.1.</span> <span class="nav-text">ES5</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ES6"><span class="nav-number">1.14.2.</span> <span class="nav-text">ES6</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Node-finding-module"><span class="nav-number">1.14.3.</span> <span class="nav-text">Node finding module</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Low-leve-API-for-buffer"><span class="nav-number">1.15.</span> <span class="nav-text">Low-leve API for buffer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#for-in-vs-for-of"><span class="nav-number">1.16.</span> <span class="nav-text">for in vs for of</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#let-vs-const-vs-var"><span class="nav-number">1.17.</span> <span class="nav-text">let vs const vs var</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#var-special"><span class="nav-number">1.17.1.</span> <span class="nav-text">var special</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#let"><span class="nav-number">1.17.2.</span> <span class="nav-text">let</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#const"><span class="nav-number">1.17.3.</span> <span class="nav-text">const</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ref"><span class="nav-number">1.18.</span> <span class="nav-text">Ref</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jason"
      src="/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">150</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">143</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">149</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/jason-cyun" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jason-cyun" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jason_lkm@163.com" title="E-Mail → mailto:jason_lkm@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://cyun.tech/2020/07/22/javascript-basic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="Jason">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CYun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="javascript_basic | CYun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          javascript_basic
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-07-22 18:26:42" itemprop="dateCreated datePublished" datetime="2020-07-22T18:26:42+08:00">2020-07-22</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-08-16 23:02:01" itemprop="dateModified" datetime="2023-08-16T23:02:01+08:00">2023-08-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/html/" itemprop="url" rel="index"><span itemprop="name">html</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/html/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Javascript"><a href="#Javascript" class="headerlink" title="Javascript"></a>Javascript</h1><ul>
<li>The single quote&#x2F;double quotes patterns are identical in terms of functionality</li>
<li>; can be ignore if unnecessary, but it’s not a good habit.</li>
<li>There’s no Integer in JavaScript (except BigInt), all are float(64 bits).</li>
<li>Index starts from 0, like for String and Array.</li>
</ul>
<span id="more"></span>

<p><strong>JS behaves like C style for supports operators.</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">+   Add</span><br><span class="line">-   Minus</span><br><span class="line">*   Multiple</span><br><span class="line">/   Divid</span><br><span class="line">%   Modulo</span><br><span class="line">&amp;   AND</span><br><span class="line">|   OR</span><br><span class="line">^   XOR</span><br><span class="line">~   NOT</span><br><span class="line">&lt;&lt;  <span class="string">Shift Left</span></span><br><span class="line"><span class="string">&gt;&gt;  Shift</span> Right With Sign</span><br><span class="line">&gt;&gt;&gt; Shift Right With Zero Fill</span><br><span class="line"></span><br><span class="line">==  Equal</span><br><span class="line">!=  Not equal</span><br><span class="line">=== Equal using strict methods both value and <span class="built_in">type</span> are same</span><br><span class="line">!== Not equal using strict methods</span><br><span class="line"></span><br><span class="line">&gt;   Greater than</span><br><span class="line">&lt;   Less than</span><br><span class="line">&gt;=  Greater than or equal to</span><br><span class="line">&lt;=  Less than or equal to</span><br><span class="line"><span class="keyword">in</span>  check key of an object</span><br><span class="line">instanceof  Is an instance of an Object</span><br><span class="line"></span><br><span class="line">delete Removes a property from an object <span class="built_in">who</span> owns it, the inherited property can NOT deleted.</span><br><span class="line">void   Returns undefined</span><br><span class="line">typeof Returns a string representing the data <span class="built_in">type</span></span><br><span class="line">++  Increments a number</span><br><span class="line">--  Decrements a number</span><br><span class="line">+   Converts the operand to a number</span><br><span class="line">-   Negates the operand</span><br><span class="line">~   Bitwise NOT</span><br><span class="line">!   Logical NOT</span><br><span class="line"></span><br><span class="line">*=  Multiplies the left operand by the right operand</span><br><span class="line">/=  Divides the left operand by the right operand</span><br><span class="line">%=  Provides the division remainder (modulus) of the left and right operand</span><br><span class="line">+=  Adds the right operand to the left operand</span><br><span class="line">-=  Subtracts the right operand from the left operand</span><br><span class="line">&lt;&lt;=     Bitwise left <span class="built_in">shift</span></span><br><span class="line">&gt;&gt;=     Bitwise right <span class="built_in">shift</span></span><br><span class="line">&gt;&gt;&gt;=    Bitwise unsigned right <span class="built_in">shift</span></span><br><span class="line">&amp;=  Bitwise AND</span><br><span class="line">^=  Bitwise XOR</span><br><span class="line">|=  Bitwise OR</span><br></pre></td></tr></table></figure>

<h2 id="printing-in-JS"><a href="#printing-in-JS" class="headerlink" title="printing in JS"></a>printing in JS</h2><p>Printing is an easy way to show result, there are several ways to print variable value. here we go.</p>
<ul>
<li>in one line<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello \</span></span><br><span class="line"><span class="string">            jason&quot;</span>);</span><br></pre></td></tr></table></figure></li>
<li>in multiple lines<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello \n jason&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`hello</span></span><br><span class="line"><span class="string">jason`</span>);<span class="comment">//template string</span></span><br></pre></td></tr></table></figure></li>
<li>show one parameter at last position<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;jason&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello&quot;</span>, name); # a space is added between after <span class="string">&#x27;hello&#x27;</span> automatically</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello %s&quot;</span>, name); # no auto added space</span><br></pre></td></tr></table></figure></li>
<li>show multiple parameters at different positions<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> msg = <span class="string">&quot;welcome&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hello %s msg %s&quot;</span>, name, msg);</span><br></pre></td></tr></table></figure></li>
<li>variable can be at any position<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, <span class="string">&quot;hi&quot;</span>); #has auto added space before <span class="string">&#x27;hi&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, <span class="string">&quot;hi&quot;</span>, name); # has auto added space before and after <span class="string">&#x27;hi&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name, <span class="string">&quot;hi %s&quot;</span>, name); # <span class="variable constant_">NOT</span> support, %s must be <span class="keyword">in</span> the first string <span class="keyword">if</span> has</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name + <span class="string">&quot;hi %s&quot;</span>, name); # support</span><br></pre></td></tr></table></figure></li>
<li>template string<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;last_name&#125;</span> hi`</span>); <span class="comment">// last_name is name of a variable</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">==========================javascript types=============================================</span><br><span class="line">                                type</span><br><span class="line">                                |</span><br><span class="line">                                |</span><br><span class="line">               primitive--------+----+object</span><br><span class="line">                |                     |</span><br><span class="line">    +-----------+-----+               +---------+-------+--------+------+----------+</span><br><span class="line">    |                 |               |         |       |        |      |          |</span><br><span class="line">    |                 |               |         |       |        +      |          +</span><br><span class="line">  string              number        Number     String   Array   Map     Math Custom(class)</span><br><span class="line">    +                   +              ^         ^</span><br><span class="line">    |                   |    auto-box  |         |</span><br><span class="line">    |                   +--------------+         |</span><br><span class="line">    |                                            |</span><br><span class="line">    |                 auto-box                   |</span><br><span class="line">    +--------------------------------------------+</span><br><span class="line"></span><br><span class="line">    always use primitive string and number as they have high performance even in es6!</span><br><span class="line"></span><br><span class="line">======================================================================================</span><br></pre></td></tr></table></figure>

<h3 id="auto-boxing"><a href="#auto-boxing" class="headerlink" title="auto-boxing"></a>auto-boxing</h3><p>javaScript has two main type categories, primitive(string, number, boolean) and object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// primitive</span></span><br><span class="line"><span class="keyword">const</span> s = <span class="string">&#x27;test&#x27;</span>;</span><br><span class="line"><span class="comment">// object, ss&#x27;s value can NOT change as well even it&#x27;s an object.</span></span><br><span class="line"><span class="keyword">const</span> ss = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&#x27;test&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>A primitive is converted to its wrapper type(auto-boxing) only when a method of the wrapper type is invoked, when auto-boxing happens, a temporary object is created and destroyed after that call.</p>
<p>It’s a primitive data type. It has no methods, it is nothing more than a pointer points to a raw data memory reference, which explains the much faster random access speed than object.</p>
<p>So what happens when you do s.charAt(i) for instance?</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s[<span class="number">0</span>] == s.<span class="title function_">charAt</span>(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<p>Since s is not an instance of String, JavaScript will auto-box s, which has typeof string to its wrapper type, String, with typeof object or more precisely.</p>
<p><code>The auto-boxing behaviour casts a back and forth to its wrapper type as needed</code>.</p>
<p>If you want to force the auto-boxing or to cast a primitive to its wrapper type, you can use Object.prototype.valueOf, but the behaviour is different. Based on a wide letiety of test scenarios auto-boxing only applies the ‘required’ methods, without altering the primitive nature of the letiable. Which is why you get better speed.</p>
<p><strong>Set on wrapped temporary object has no lasting effect as that temporary is destroyed soon after</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">str.<span class="property">age</span> = <span class="number">10</span>; <span class="comment">// a temporary String object is created and set.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="property">age</span>); <span class="comment">//undefined as the temporary object is destroyed.</span></span><br></pre></td></tr></table></figure>

<h2 id="Numbers-and-Dates"><a href="#Numbers-and-Dates" class="headerlink" title="Numbers and Dates"></a>Numbers and Dates</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">number_date</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> a2 = <span class="number">0b11</span>;</span><br><span class="line">    <span class="keyword">const</span> a16 = <span class="number">0x10</span>;</span><br><span class="line">    <span class="keyword">const</span> n_number = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">const</span> n_object = <span class="keyword">new</span> <span class="title class_">Number</span>(<span class="number">12</span>) <span class="comment">//object</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a2, a16, n_number, n_object);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Math class</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="property">PI</span>, <span class="title class_">Math</span>.<span class="title function_">random</span>(), <span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">4.3</span>), <span class="title class_">Math</span>.<span class="title function_">min</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>), <span class="title class_">Math</span>.<span class="title function_">max</span>(...[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]))</span><br><span class="line">    <span class="comment">//Date class library</span></span><br><span class="line">    <span class="keyword">const</span> today = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(today.<span class="title function_">toString</span>(), today.<span class="title function_">getMilliseconds</span>(), today.<span class="title function_">getHours</span>(), )</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span> / <span class="number">2</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">3</span> / <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//random float number from [0-1)</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>());</span><br><span class="line">    <span class="comment">//random integer from [0-10)</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">10</span>));</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span> + <span class="number">2</span> == <span class="number">3</span>); <span class="comment">// true</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span> + <span class="number">0.2</span> == <span class="number">0.3</span>); <span class="comment">// false, never compare float!!!</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">number_date</span>()</span><br></pre></td></tr></table></figure>

<pre><code>3 16 12 [Number: 12]
3.141592653589793 0.3273509254139666 4 1 3
Wed Nov 04 2020 18:26:24 GMT+0800 (China Standard Time) 700 18
1.5
1
0.8324244498379996
2
true
false
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">string_number_convert</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// use parseInt and parseFloat which are more poweroff than Number()</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;123&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27; 123&#x27;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//not a number</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>(<span class="string">&#x27;123a&#x27;</span>)); <span class="comment">//NaN</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&#x27;123&#x27;</span>, <span class="number">10</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&#x27; 123&#x27;</span>, <span class="number">10</span>));</span><br><span class="line">    <span class="comment">// still get a number</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">parseInt</span>(<span class="string">&#x27; 123a&#x27;</span>, <span class="number">10</span>)); <span class="comment">// 123</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//convert string to number</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//valueOf(valueOf is called when number is needed) is called implicitly,</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;3&#x27;</span> - <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// call valueOf explicitly.</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;3&#x27;</span>.<span class="title function_">valueOf</span>() - <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// convert number to string</span></span><br><span class="line">    <span class="keyword">const</span> num = <span class="number">123</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(num.<span class="title function_">toString</span>());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">String</span>(num));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">2</span> + <span class="string">&#x27;hello&#x27;</span>); <span class="comment">//toString is called implicitly when string is needed.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">string_number_convert</span>()</span><br></pre></td></tr></table></figure>

<pre><code>123
123
NaN
123
123
123
2
2
123
123
2hello
</code></pre>
<h3 id="Special-number-NaN"><a href="#Special-number-NaN" class="headerlink" title="Special number NaN"></a>Special number NaN</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">sepcial_number</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;special number: Infinity and -Infinity,NaN are numbers \nNaN: any number of other numeric operations that don not yield a meaningful result.&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Infinity</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(-<span class="title class_">Infinity</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">NaN</span>);</span><br><span class="line">    <span class="comment">// NaN is for **numeric operations** that don not yield a meaningful result</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0</span>/<span class="number">0</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a&#x27;</span> * <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// Strings cannot be divided, multiplied, or subtracted</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;a&#x27;</span> - <span class="number">1</span>);</span><br><span class="line">    <span class="comment">// NaN meaningless result, hence NaN==NaN is false!!!</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span> == <span class="title class_">NaN</span>)</span><br><span class="line">    <span class="comment">// check its value if it&#x27;s NaN or Not</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">NaN</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="string">&#x27;1&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// isNaN check if the parameter is number or not</span></span><br><span class="line">    <span class="comment">// not a number</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="string">&#x27;1&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="built_in">isNaN</span>(<span class="number">1</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">sepcial_number</span>()</span><br></pre></td></tr></table></figure>

<pre><code>special number: Infinity and -Infinity,NaN are numbers
NaN: any number of other numeric operations that don not yield a meaningful result.
Infinity
-Infinity
number
NaN
NaN
NaN
false
true
false
false
false
false
true
false
</code></pre>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><p>Sting index starts with 0, not support -1 as the last index.</p>
<p>There are two ways to create a string, one uses string primitive, the other uses String object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s_hi = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> s_hi_o = <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line"><span class="comment">//The String object is a wrapper around the string primitive data type</span></span><br></pre></td></tr></table></figure>
<p>But you can call any of the methods of the String object on a string literal value—JavaScript automatically converts the string literal to a temporary String object, calls the method, then discards the temporary String object</p>
<p>strings are <code>immutable array-like objects</code>, you can’t change individual characters.</p>
<p>There is another big feature for string is <code>template string</code>, you access var from string directly, more like Bash, it’s easy to create complex string by accessing var.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="string">&quot;jason&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hi $&#123;name&#125;&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> msg = <span class="string">&quot;hi $&#123;name&#125;&quot;</span>;</span><br><span class="line">consolg.<span class="title function_">log</span>(msg);</span><br></pre></td></tr></table></figure>
<p><strong>run js from string</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">eval_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">eval</span>(<span class="string">&#x27;var x = 10;&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(x);</span><br><span class="line">&#125;</span><br><span class="line">eval_demo();</span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">string_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//convert 100 to string</span></span><br><span class="line">    <span class="keyword">let</span> s_n = <span class="title class_">String</span>(<span class="number">100</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s_n, <span class="string">&quot;hi number &quot;</span> + <span class="number">100</span>);</span><br><span class="line">    <span class="keyword">let</span> s_hi = <span class="string">&quot;9hello, boy boy &quot;</span>;</span><br><span class="line">    s_hi[<span class="number">0</span>] = <span class="string">&quot;B&quot;</span>; <span class="comment">//no effect, but no exception.</span></span><br><span class="line">    <span class="comment">// last index: -1, not supported by function!!! s_hi[-1] not supported!!!</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s_hi, s_hi[<span class="number">0</span>], s_hi.<span class="property">length</span>,</span><br><span class="line">                <span class="comment">// auto-box happens</span></span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">indexOf</span>(<span class="string">&quot;ll&quot;</span>), <span class="comment">//check substring index</span></span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">slice</span>(<span class="number">1</span>, -<span class="number">1</span>),  <span class="comment">//slice, from index 1 to index -1</span></span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">substr</span>(<span class="number">1</span>, <span class="number">2</span>),  <span class="comment">//from index 1, include 2 bytes</span></span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">toUpperCase</span>(),</span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">replace</span>(<span class="string">&quot;ll&quot;</span>, <span class="string">&quot;xx&quot;</span>),<span class="comment">//replace substring, support regular pattern</span></span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">startsWith</span>(<span class="string">&quot;he&quot;</span>),</span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">endsWith</span>(<span class="string">&quot;xx&quot;</span>),</span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">includes</span>(<span class="string">&quot;ll&quot;</span>),</span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>),</span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">trim</span>(),<span class="comment">//trim tab, space from start and end.</span></span><br><span class="line">                <span class="string">&#x27;\n&#x27;</span> + s_hi.<span class="title function_">repeat</span>(<span class="number">3</span>)</span><br><span class="line">               ); <span class="comment">//repeat string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">string_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>100 hi number 100
9hello, boy boy  9 16
3
hello, boy boy
he
9HELLO, BOY BOY
9hexxo, boy boy
false
false
true
9hello, boy boy
9hello, boy boy
9hello, boy boy 9hello, boy boy 9hello, boy boy
</code></pre>
<h3 id="some-String-APIs-support-regex"><a href="#some-String-APIs-support-regex" class="headerlink" title="some String  APIs support regex"></a>some String  APIs support regex</h3><p>when use with regex with such API, patter must be written in way <code>/pattern/</code>, not <code>&quot;pattern&quot;</code>.</p>
<ul>
<li>search: check if match return -1 if no match</li>
<li>match:  got the matched value, return null if no match</li>
<li>replace: repalce matched part, return a new string</li>
</ul>
<p>match: return an object that looks like an array, if no matched, null returned</p>
<ul>
<li>index: the start matched index</li>
<li>[0]: the full matched string</li>
<li>[1]…[n]: the substring matched in ()</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">string_regex_api</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> s_hi = <span class="string">&quot;9hello, boy boy &quot;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s_hi.<span class="title function_">search</span>(<span class="regexp">/[0-9]h/g</span>), s_hi.<span class="title function_">search</span>(<span class="regexp">/[0-9]b/g</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The $1 and $2 in the replacement string refer to the parenthesized groups in</span></span><br><span class="line">    <span class="comment">// the pattern. $1 is replaced by the text that matched against the first group, $2</span></span><br><span class="line">    <span class="comment">// by the second, and so on, up to $9. The whole match can be referred to with $&amp;.</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s_hi.<span class="title function_">replace</span>(<span class="regexp">/(hello), (boy)/g</span>, <span class="string">&#x27;$2, $1&#x27;</span>));<span class="comment">//NOT &#x27;/boy/g&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s_hi.<span class="title function_">replace</span>(<span class="string">&#x27;boy&#x27;</span>, <span class="string">&#x27;girl&#x27;</span>)); <span class="comment">// only first replace without pattern</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> matched = s_hi.<span class="title function_">match</span>(<span class="regexp">/9([a-z]*)/</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(matched.<span class="property">index</span>, matched[<span class="number">0</span>], matched[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//dynamic pattern, must create RegExp explictly with dynamic value.</span></span><br><span class="line">    <span class="keyword">let</span> pattern = <span class="string">&#x27;9[a-z]&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(pattern);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s_hi.<span class="title function_">match</span>(reg)[<span class="number">0</span>])</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">string_regex_api</span>()</span><br></pre></td></tr></table></figure>

<pre><code>0 -1
9boy, hello boy
9hello, girl boy
0 9hello hello
9h
</code></pre>
<h2 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h2><p>Array element can have different types, but most time, it stores same type.</p>
<p>Like string, there are two ways to create an array, <code>but both created object</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array_p = [<span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>];</span><br><span class="line"><span class="keyword">let</span> array_o = <span class="keyword">new</span> <span class="title class_">Array</span>([<span class="string">&quot;a&quot;</span>, <span class="number">2</span>]);</span><br><span class="line"><span class="comment">//let array_o = new Array();</span></span><br><span class="line">array_o[<span class="number">2</span>] = <span class="string">&quot;c&quot;</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Array supports method same like Python</p>
<ul>
<li>pop(), push(elm) at end</li>
<li>shift(), unshift(elm) at head</li>
<li>reverse, sort</li>
<li>join</li>
<li>find: return the first element, filter use callback for testing, return a new filtered array.</li>
<li>indexOf&#x2F;lastIndexOf: return index or last of the element, -1 if not found</li>
<li>includes: like indexOf, but return true or false.</li>
<li>forEach, map, reduce, filter <strong>always use this if possible to avoid for loop</strong><ul>
<li><strong>forEach,map, reduce, filter provides second argument(thisArgs) used as this by callback handler</strong></li>
</ul>
</li>
<li>slice(subarray, copy array if no parameter), concat(combine two arrays): new array is returned, orignal unchanged</li>
<li>some&#x2F;every: return true if all&#x2F;some pass test.</li>
<li>Array.isArray(obj): return true if an arry</li>
</ul>
<p>check an element in an array with several ways</p>
<ul>
<li>for to loop every element</li>
<li>indexOf</li>
<li>includes</li>
</ul>
<p><strong>NOTE: index from 0 and element can be any type, not same</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">check_array_type</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// array is an object with constructor == Array</span></span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> arr);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> arr == <span class="string">&#x27;object&#x27;</span> &amp;&amp; arr.<span class="property">constructor</span> == <span class="title class_">Array</span>) &#123;</span><br><span class="line">       <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;var arr is an array&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">check_array_type</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">array_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">is_number</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> !<span class="built_in">isNaN</span>(val);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> array_p = [<span class="number">1</span>, <span class="string">&#x27;a&#x27;</span>, <span class="number">2</span>];</span><br><span class="line">    array_p.<span class="title function_">push</span>(<span class="number">3</span>); <span class="comment">//add one at tail</span></span><br><span class="line">    array_p.<span class="title function_">shift</span>(); <span class="comment">//remove one from head</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array_p,</span><br><span class="line">                <span class="comment">//auto-box</span></span><br><span class="line">                array_p.<span class="title function_">concat</span>([<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]),</span><br><span class="line">                array_p.<span class="title function_">slice</span>(),  <span class="comment">//copy array</span></span><br><span class="line">                array_p.<span class="title function_">slice</span>(<span class="number">1</span>),</span><br><span class="line">                array_p.<span class="title function_">slice</span>(<span class="number">1</span>,<span class="number">2</span>), <span class="comment">//sub array index from [1, 2)</span></span><br><span class="line">                array_p.<span class="title function_">toString</span>(),</span><br><span class="line">                array_p.<span class="title function_">find</span>(is_number), <span class="comment">//first number in array</span></span><br><span class="line">                array_p.<span class="title function_">indexOf</span>(<span class="number">3</span>),</span><br><span class="line">                array_p.<span class="title function_">indexOf</span>(<span class="number">4</span>),</span><br><span class="line">                array_p.<span class="title function_">includes</span>(<span class="number">3</span>),</span><br><span class="line">                array_p.<span class="title function_">filter</span>(is_number),</span><br><span class="line">                array_p.<span class="title function_">join</span>(<span class="string">&#x27;;&#x27;</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// good way to use but can not break at some point</span></span><br><span class="line">    array_p.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">elm</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(elm);</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//better new way to iterator array, can break at some point</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> elm <span class="keyword">of</span> array_p) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(elm);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> elm <span class="keyword">in</span> array_p) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(elm); <span class="comment">//print index 0, 1, 2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//map, reduce, filter</span></span><br><span class="line">    <span class="keyword">let</span> array_n = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">    <span class="comment">//map takes every element as input and return a value to contruct a new array</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array_n.<span class="title function_">map</span>(<span class="function">(<span class="params">x</span>)=&gt;</span> x+<span class="number">2</span>));</span><br><span class="line">    <span class="comment">//filter takes every element as input, return true or false, only true element contruct a new array</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array_n.<span class="title function_">filter</span>(<span class="function">(<span class="params">x</span>)=&gt;</span>&#123;<span class="keyword">if</span> (x&gt;<span class="number">1</span>) <span class="keyword">return</span> <span class="literal">true</span>; <span class="keyword">else</span> <span class="keyword">return</span> <span class="literal">false</span>;&#125;))</span><br><span class="line">    <span class="comment">//reduce takes parameter, previous call return value and current element, the final output is last call output</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array_n.<span class="title function_">reduce</span>(<span class="function">(<span class="params">prereturn, x</span>)=&gt;</span>prereturn + x))</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array_n.<span class="title function_">every</span>(<span class="function"><span class="params">x</span>=&gt;</span>x&gt;<span class="number">2</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array_n.<span class="title function_">some</span>(<span class="function"><span class="params">x</span>=&gt;</span>x&gt;<span class="number">2</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">array_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>object
var arr is an array
[ &#39;a&#39;, 2, 3 ] [ &#39;a&#39;, 2, 3, 3, 4, 5 ] [ &#39;a&#39;, 2, 3 ] [ 2, 3 ] [ 2 ] a,2,3 2 2 -1 true [ 2, 3 ] a;2;3
a
2
3
a
2
3
0
1
2
arrCustom
[ 3, 4, 5 ]
[ 2, 3 ]
6
false
true
</code></pre>
<h3 id="delete-an-element-from-array"><a href="#delete-an-element-from-array" class="headerlink" title="delete an element from array"></a>delete an element from array</h3><table>
<thead>
<tr>
<th>Remove?</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>An item</td>
<td>array.splice(index, 1)</td>
</tr>
<tr>
<td>First item</td>
<td>array.shift()</td>
</tr>
<tr>
<td>Last item</td>
<td>array.pop()</td>
</tr>
<tr>
<td>What about delete?</td>
<td>Try to avoid delete, causes sparse arrays.</td>
</tr>
</tbody></table>
<p><strong>delete do NOT change length and leave empty slot! others NOT</strong></p>
<p>Using delete creates these kinds of holes. It removes an item from the array, but it doesn’t update the length property. This leaves the array in a funny state that is best avoided.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">array_del</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> array = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>];</span><br><span class="line">    <span class="keyword">delete</span> array[<span class="number">1</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array, array.<span class="property">length</span>);</span><br><span class="line">    array = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>];</span><br><span class="line">    <span class="comment">//first argument is element index!!!, the second is from that index how many elements will be deleted.</span></span><br><span class="line">    array.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array, array.<span class="property">length</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">array_del</span>()</span><br></pre></td></tr></table></figure>

<pre><code>[ &#39;a&#39;, &lt;1 empty item&gt;, &#39;c&#39;, &#39;d&#39; ] 4
[ &#39;a&#39;, &#39;c&#39;, &#39;d&#39; ] 3
</code></pre>
<h2 id="MAP"><a href="#MAP" class="headerlink" title="MAP"></a>MAP</h2><p>Map is a litte different with Array, map uses keys as index while Array uses number.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">map_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> map_o = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">    <span class="comment">//map_o[&quot;a&quot;] = 1; //this never update size, never use this way!!!</span></span><br><span class="line">    map_o.<span class="title function_">set</span>(<span class="string">&quot;b&quot;</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="comment">//map_o.delete(&quot;b&quot;);//delete map_o[&#x27;b&#x27;]</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(map_o,</span><br><span class="line">                map_o.<span class="property">size</span>,</span><br><span class="line">                map_o.<span class="title function_">get</span>(<span class="string">&#x27;b&#x27;</span>),</span><br><span class="line">                <span class="comment">// check key exist</span></span><br><span class="line">                map_o.<span class="title function_">has</span>(<span class="string">&#x27;b&#x27;</span>));</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> iter = map_o.<span class="title function_">keys</span>();</span><br><span class="line">    <span class="keyword">while</span> (i &lt; map_o.<span class="property">size</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> key = iter.<span class="title function_">next</span>().<span class="property">value</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;item: %s %s&quot;</span>, key, map_o.<span class="title function_">get</span>(key));</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    map_o.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">value, key</span>) &#123;</span><br><span class="line">        <span class="comment">//can loop each Map item, but can&#x27;t break/continue somehow!!</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(key, value)</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//new ways, should we use for map!!!</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> [k, v] <span class="keyword">of</span> map_o) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(k, v);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> map_o.<span class="title function_">keys</span>()) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(k);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">map_demo</span>();</span><br></pre></td></tr></table></figure>

<pre><code>Map &#123; &#39;b&#39; =&gt; 2 &#125; 1 2 true
item: b 2
b 2
b 2
b
</code></pre>
<h2 id="Enum"><a href="#Enum" class="headerlink" title="Enum"></a>Enum</h2><p>There is no Enum in javacript at all, use object to simulate it</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">enum_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> size = &#123;<span class="attr">SMALL</span>: <span class="number">0</span>, <span class="attr">MEDIUM</span>: <span class="number">1</span>, <span class="attr">LARGE</span>: <span class="number">2</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> count = [];</span><br><span class="line">    count[size.<span class="property">SMALL</span>] = <span class="number">1</span>;</span><br><span class="line">    count[size.<span class="property">MEDIUM</span>] = <span class="number">2</span>;</span><br><span class="line">    count[size.<span class="property">LARGE</span>] = <span class="number">3</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(count)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">enum_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>[ 1, 2, 3 ]
</code></pre>
<h2 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h2><p><strong>arguments</strong></p>
<p>If you pass too many, the extra ones are ignored. If you pass too few, the missing parameters get assigned the value undefined, but you can access all arguments by <code>arguments</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test_arg</span>(<span class="params">a, b, c = <span class="number">12</span></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c,);</span><br><span class="line">    <span class="keyword">for</span> ( <span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test_arg</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1 undefined 12</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="title function_">test_arg</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1 2 4</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h3 id="Function-closure"><a href="#Function-closure" class="headerlink" title="Function closure"></a>Function closure</h3><p>This feature—being able to reference a specific instance of a local binding in<br>an enclosing scope—is called closure. A function that references bindings from<br>local scopes around it is called a closure</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> f2 = (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">var</span> counter = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="keyword">return</span> counter++;&#125;;</span><br><span class="line">&#125;)()</span><br><span class="line"><span class="comment">// we calls first function(local counter =1) which can be accessed by inner function</span></span><br><span class="line"><span class="comment">// after return, the local counter is not freed at all as f2 still have a reference to it!!!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//counter as a global to f2</span></span><br><span class="line"><span class="title function_">f2</span>(); <span class="comment">//we call the second function</span></span><br><span class="line"><span class="title function_">f2</span>(); <span class="comment">//we call the second function</span></span><br></pre></td></tr></table></figure>

<p>Another case</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">makeAdder</span>(<span class="params">a</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params">b</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> add5 = <span class="title function_">makeAdder</span>(<span class="number">5</span>);</span><br><span class="line"><span class="title function_">add5</span>(<span class="number">6</span>); <span class="comment">//</span></span><br></pre></td></tr></table></figure>

<p>when makeAdder() is called, a scope object is created with one property: a, which is the argument passed to the makeAdder() function. makeAdder() then returns a newly created function. Normally JavaScript’s <code>garbage collector would clean up the scope object</code> created for makeAdder() at this point, but the returned function maintains a reference back to that scope object. As a result, <code>the scope object will not be garbage-collected until there are no more references to the function object that makeAdder() returned</code>.</p>
<h3 id="Arrow-function"><a href="#Arrow-function" class="headerlink" title="Arrow function"></a>Arrow function</h3><p>As js supports annymous function(a function without name), more over, you can even skip <code>function</code> keyword for annymous function, that’s arrow function <code>=&gt;</code>, like annymous function, you can use arrow function as a callback directly, or save it as function object, call it later on</p>
<p>There are severls rule to define an arrow function.</p>
<p><strong>parameter rule</strong></p>
<ul>
<li>If there are 0 Parameters, arrow functions use empty parenthesis: () &#x3D;&gt; { statements; }</li>
<li>If there is 1 Parameter, arrow functions can omit the parenthesis around the parameter: parameter &#x3D;&gt; { statements }</li>
<li>If there are 2+ Parameters, parameters go inside parenthesis: (param1, param2, …) &#x3D;&gt; { statements }</li>
</ul>
<p><strong>return rule</strong></p>
<ul>
<li>If an arrow function is simply <code>returning a single line of code</code>, you can omit the statement brackets and the return keyword.</li>
<li>if you arrow function does NOT return, say just long or printing, you can NOT omit brackets, that means brackets is not omitted in most case, with brackents if you want to return a value, you must use <code>return</code> keyword, otherwise, undefined is returned.</li>
</ul>
<h3 id="Definition-and-Call"><a href="#Definition-and-Call" class="headerlink" title="Definition and Call"></a>Definition and Call</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">arrow1</span> = name=&gt;name;</span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">arrow2</span> = (<span class="params"></span>)=&gt;&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;hi&quot;</span>);&#125; <span class="comment">//no return undefined returned</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">arrow3</span> = (<span class="params">a, b</span>)=&gt;a+b;</span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">arrow4</span> = (<span class="params">a, b</span>)=&gt;&#123;a+b;&#125;; <span class="comment">//undefined return as with brackets, need a return value, must use `return`</span></span><br><span class="line">    <span class="keyword">var</span> <span class="title function_">arrow5</span> = (<span class="params">a, b</span>)=&gt;&#123;<span class="keyword">return</span> a+b;&#125;;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrow1</span>(<span class="string">&quot;jason&quot;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrow2</span>()); <span class="comment">//print &#x27;hi&#x27; return undefined</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrow3</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrow4</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">arrow5</span>(<span class="number">1</span>,<span class="number">2</span>))</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>jason
hi
undefined
3
undefined
3
</code></pre>
<h2 id="Class-x2F-Object-x2F-object"><a href="#Class-x2F-Object-x2F-object" class="headerlink" title="Class&#x2F;Object&#x2F;object"></a>Class&#x2F;Object&#x2F;object</h2><h3 id="object"><a href="#object" class="headerlink" title="object"></a>object</h3><p>There are two ways to declare a class ES5 way, ES6(ES2015), <code>object is light weighted Object</code>, object no built-in properties and methods, it’s more effecient thant Object, object behaves like a Map, key:value pairs, but it’s not a map hence <code>object.get(&#39;a&#39;)</code> will report error as object no built-in stuff.</p>
<ul>
<li><p>object key must be string, but Map key can be anything.</p>
</li>
<li><p>Object.assign() copies the values (of all enumerable own properties) from one or more source objects to a target object. It has a signature of Object.assign(target, …sources).</p>
</li>
</ul>
<p><strong>The target object is the first parameter and is also used as the return value</strong>.</p>
<ul>
<li>Object.assign() is useful for merging objects or cloning them shallowly.</li>
</ul>
<p><strong>property</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">1</span>, b = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// shorthand to create an object</span></span><br><span class="line"><span class="keyword">let</span> ob1 = &#123;a, b&#125;; <span class="comment">// same as let ob1=&#123;&#x27;a&#x27;:1, &#x27;b&#x27;:2&#125;;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> ob1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;jason&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;your name&#x27;</span>: <span class="string">&#x27;jason&#x27;</span> <span class="comment">//&#x27;&#x27; is required as &#x27;your name&#x27; has space</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// two ways to access name property.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ob1.<span class="property">name</span>, ob1[<span class="string">&#x27;name&#x27;</span>]);</span><br><span class="line"><span class="comment">// only one way for &#x27;your name&#x27; property.</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ob1[<span class="string">&#x27;your name&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// add one property</span></span><br><span class="line">ob1.<span class="property">age</span> = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// merge two objects(ob1 is returned and modified, the key conflicts, the last source wins</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(ob1, &#123;<span class="attr">age</span>: <span class="number">100</span>, <span class="attr">id</span>: <span class="number">100</span>&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(ob1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// clone an object</span></span><br><span class="line"><span class="keyword">let</span> clone_ob = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, ob1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(clone_ob);</span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">object_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// object instance of it&#x27;s own property and functions</span></span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">        <span class="string">&quot;your name&quot;</span>: <span class="string">&quot;jason&quot;</span>, <span class="comment">// NOT ; but , &quot;&quot; is required</span></span><br><span class="line">        <span class="attr">id</span>: <span class="number">16</span>,          <span class="comment">// no quote is OK!</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">get_name_again</span>: <span class="keyword">function</span> <span class="title function_">get_name_again</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>[<span class="string">&#x27;your name&#x27;</span>];</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">//shorthand to define a method</span></span><br><span class="line">        <span class="title function_">get_name</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>[<span class="string">&#x27;your name&#x27;</span>];</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    obj.<span class="property">get_name_v2</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>[<span class="string">&#x27;your name&#x27;</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// two ways to access method</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">id</span>, obj.<span class="title function_">get_name</span>());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">id</span>, obj[<span class="string">&quot;get_name_again&quot;</span>]());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">id</span>, obj.<span class="title function_">get_name_v2</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> obj) &#123;</span><br><span class="line">        <span class="comment">//loop all attributes and its value</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(key, obj[key]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">let</span> b = <span class="number">2</span>;</span><br><span class="line">    <span class="comment">// shorthand to create an object</span></span><br><span class="line">    <span class="keyword">let</span> ob1 = &#123;a, b&#125;; <span class="comment">// same as let ob1=&#123;&#x27;a&#x27;:1, &#x27;b&#x27;:2&#125;;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ob1);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ob2 = &#123;<span class="string">&#x27;a&#x27;</span>: <span class="number">1</span>, <span class="string">&quot;b&quot;</span>: <span class="number">2</span>&#125;;</span><br><span class="line">    ob2[<span class="string">&#x27;c&#x27;</span>] = <span class="number">3</span>;</span><br><span class="line">    <span class="comment">// delete a property</span></span><br><span class="line">    <span class="keyword">delete</span> ob2.<span class="property">a</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ob2,</span><br><span class="line">                ob2.<span class="property">c</span>,</span><br><span class="line">                ob2[<span class="string">&#x27;b&#x27;</span>],</span><br><span class="line">                 <span class="comment">// check key exist</span></span><br><span class="line">                <span class="string">&#x27;b&#x27;</span> <span class="keyword">in</span> ob2)</span><br><span class="line">    <span class="comment">//get keys of object, return an array of keys</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(ob2));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ob3 = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="keyword">let</span> ob4 = &#123;<span class="attr">a</span>: <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="comment">// compare object, it compares its address, hence it&#x27;s false.</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ob3 == ob4);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">object_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>16 jason
16 jason
16 jason
your name jason
id 16
get_name_again [Function: get_name_again]
get_name [Function: get_name]
get_name_v2 [Function]
&#123; a: 1, b: 2 &#125;
&#123; b: 2, c: 3 &#125; 3 2 true
[ &#39;b&#39;, &#39;c&#39; ]
false
</code></pre>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><p>ES5 class</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get_name</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Student</span>(<span class="params">name, id</span>) &#123;</span><br><span class="line">    <span class="title class_">Person</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name); <span class="comment">// call super class constructor bound to same this as Student.</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">id</span> = id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// same prototype as parent(extended),hence Student can see get_name as well!!!</span></span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get_id</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">id</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Student</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">prefix_name</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;prefix_&#x27;</span> + <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&#x27;jason&#x27;</span>, <span class="number">10</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1.<span class="title function_">get_name</span>(), s1.<span class="title function_">prefix_name</span>(), s1.<span class="title function_">get_id</span>()); <span class="comment">// jason prefix_jason 10</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>With ES6, add keyword like <code>class, construtor, static, super, extends</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// no function keyword</span></span><br><span class="line">    <span class="title function_">get_name</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">es5_class_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//constructor function always with UpperCase first letter</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">Person</span>(<span class="params">name, id</span>) &#123;</span><br><span class="line">        <span class="string">&#x27;use strict&#x27;</span>; <span class="comment">// call me without new will throw an error!!</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">id</span> = id;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">get_name</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Outside method defines.</span></span><br><span class="line">    <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">set_name</span> = <span class="keyword">function</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// all instances have these, outside the contructor</span></span><br><span class="line">    <span class="title class_">Person</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">age</span> = <span class="number">10</span>; <span class="comment">//static, shared by all instances</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;jason&#x27;</span>, <span class="number">1</span>);</span><br><span class="line">    p1.<span class="property">gender</span> = <span class="string">&#x27;male&#x27;</span>; <span class="comment">//only to this instance, add new attribute, do not use this way</span></span><br><span class="line">    <span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&#x27;cob&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">    p2.<span class="property">get_id</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="comment">//add method to an existing object</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">id</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p1.<span class="title function_">get_name</span>());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">name</span>);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="title function_">get_id</span>());</span><br><span class="line">    p2.<span class="title function_">set_name</span>(<span class="string">&quot;frank&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="title function_">get_name</span>());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p2.<span class="property">age</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">es5_class_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>jason
cob
2
frank
10
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">es6_class_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">        <span class="title function_">constructor</span>(<span class="params">name</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">get_name</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">        <span class="title function_">constructor</span>(<span class="params">name, id</span>) &#123;</span><br><span class="line">            <span class="comment">// call parent constructor!!!</span></span><br><span class="line">            <span class="variable language_">super</span>(name);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">id</span> = id;</span><br><span class="line">            <span class="comment">// parent and subclass has the same name property</span></span><br><span class="line">            <span class="comment">// actuall the two property are same one!!! on instance object!</span></span><br><span class="line">            <span class="comment">// never do this, avoid subclass has same name property with parent!!!</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">name</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">get_id</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">id</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">get_prefix_name</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// call parent&#x27;s function in child</span></span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;prefix_&#x27;</span> + <span class="variable language_">super</span>.<span class="title function_">get_name</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> s1 = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;jason&quot;</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(s1.<span class="title function_">get_name</span>(), s1.<span class="title function_">get_id</span>(), s1.<span class="title function_">get_prefix_name</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">es6_class_demo</span>();</span><br></pre></td></tr></table></figure>

<pre><code>hello 1 prefix_hello
</code></pre>
<h4 id="loop-properties"><a href="#loop-properties" class="headerlink" title="loop properties"></a>loop properties</h4><ol>
<li>for…in: which returns all the enumerable properties of an object, regardless of whether they are own properties, or inherited from the prototype chain.<ul>
<li>返回对象自身的和继承的<strong>可枚举属性</strong>（不含 Symbol 属性）。</li>
</ul>
</li>
<li>Object.keys(ob): which returns all own, enumerable properties of an object, an ECMA5 method<ul>
<li>返回一个数组，包括自身的（不含继承) 所有可枚举属性（不含 Symbol 属性）。</li>
</ul>
</li>
<li>Object.getOwnPropertyNames(obj): which returns all own properties of an object, both enumerable or not<ul>
<li>返回一个数组，包括自身的(不含继承) 所有属性（不含Symbol属性，但包括不可枚举属性）。</li>
</ul>
</li>
<li>Object.getOwnPropertySymbols(obj): which returns all own symbol properties of an object, enumerable or not<ul>
<li>返回一个数组。包含对象自身（不含继承）的所有 Symbol 属性。</li>
</ul>
</li>
<li>Reflect.ownKeys(obj)<br> 返回一个数组，包含对象所有的属性(不含继承）&#x3D;&#x3D; 3 + 4 。</li>
<li>obj.hasOwnProperty(prop): check if a property is inherited or actually belongs to that object</li>
<li>obj.propertyIsEnumerable(prop) if a property is enumerable.</li>
</ol>
<p><strong>use Object.defineProperty() to define non-enumerable property</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">loop_properties</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> get_id = <span class="title class_">Symbol</span>(<span class="string">&quot;get_id&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> plain_object = &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="number">12</span>,</span><br><span class="line">        <span class="title function_">name</span>(<span class="params"></span>)&#123;<span class="keyword">return</span> <span class="string">&#x27;plain&#x27;</span>&#125;,</span><br><span class="line">        <span class="comment">// define a symbol property with [Symbol]</span></span><br><span class="line">        [get_id]() &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">id</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//add non-enumerable property, you never see me by for ...in</span></span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(plain_object, <span class="string">&quot;get_name&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">value</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;get_name&#x27;</span>;</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">configurable</span>: <span class="literal">false</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> attr <span class="keyword">in</span> plain_object) &#123;</span><br><span class="line">        <span class="comment">// no get_name printed here as it&#x27;s not enumerable!!!</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(attr);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="comment">// add a symbol properity to an object.</span></span><br><span class="line">    plain_object[id] = <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// access a symbol function.</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(plain_object[get_id]());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">keys</span>(plain_object));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(plain_object));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(plain_object));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(plain_object));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// plain_object.hasOwnProperty = 10;</span></span><br><span class="line">    <span class="comment">// not safe if hasOwnProperty is set</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(plain_object.<span class="title function_">hasOwnProperty</span>(<span class="string">&#x27;id&#x27;</span>));</span><br><span class="line">    <span class="keyword">var</span> hasOwn = &#123;&#125;.<span class="property">hasOwnProperty</span>; <span class="comment">//extract or Object.prototype.hasOwnProperty</span></span><br><span class="line">    hasOwn.<span class="title function_">call</span>(plain_object, <span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loop_properties</span>()</span><br></pre></td></tr></table></figure>

<pre><code>id
name
12
[ &#39;id&#39;, &#39;name&#39; ]
[ &#39;id&#39;, &#39;name&#39;, &#39;get_name&#39; ]
[ Symbol(get_id), Symbol(id) ]
[ &#39;id&#39;, &#39;name&#39;, &#39;get_name&#39;, Symbol(get_id), Symbol(id) ]
true
</code></pre>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getAllPropertyNames</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">  <span class="comment">// own, inherited properties, enumerable and non-enumerable!!!</span></span><br><span class="line">  <span class="keyword">let</span> result = [];</span><br><span class="line">  <span class="keyword">while</span> (obj) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(obj).<span class="title function_">forEach</span>(<span class="function"><span class="params">p</span> =&gt;</span> result.<span class="title function_">push</span>(p));</span><br><span class="line">    result.<span class="title function_">push</span>(<span class="string">&#x27;#&#x27;</span>);</span><br><span class="line">    <span class="comment">//get parent prototype!!!</span></span><br><span class="line">    obj = <span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(obj);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> obj = &#123;</span><br><span class="line">      <span class="attr">abc</span>: <span class="number">123</span>,</span><br><span class="line">      <span class="attr">xyz</span>: <span class="number">1.234</span>,</span><br><span class="line">      <span class="attr">foobar</span>: <span class="string">&quot;hello&quot;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getAllPropertyNames</span>(obj));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// obj1 has no inherited property!!!</span></span><br><span class="line">    <span class="keyword">let</span> obj1 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>);</span><br><span class="line">    obj1.<span class="property">abc</span> = <span class="number">123</span>;</span><br><span class="line">    obj1.<span class="property">xyz</span>= <span class="number">1.234</span>;</span><br><span class="line">    obj1.<span class="property">foobar</span> = <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">getAllPropertyNames</span>(obj1));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<pre><code>[
  &#39;abc&#39;,              &#39;xyz&#39;,
  &#39;foobar&#39;,           &#39;#&#39;,
  &#39;constructor&#39;,      &#39;__defineGetter__&#39;,
  &#39;__defineSetter__&#39;, &#39;hasOwnProperty&#39;,
  &#39;__lookupGetter__&#39;, &#39;__lookupSetter__&#39;,
  &#39;isPrototypeOf&#39;,    &#39;propertyIsEnumerable&#39;,
  &#39;toString&#39;,         &#39;valueOf&#39;,
  &#39;__proto__&#39;,        &#39;toLocaleString&#39;,
  &#39;#&#39;
]
[ &#39;abc&#39;, &#39;xyz&#39;, &#39;foobar&#39;, &#39;#&#39; ]
</code></pre>
<h2 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h2><p>A “symbol” represents a unique identifier, it’s mostly used to avoid conflict, <code>you can image it as a unique string</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// id is a symbol with the description &quot;id&quot;</span></span><br><span class="line"><span class="keyword">let</span> id1 = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);  <span class="comment">// id1 is not in global registry!!!!</span></span><br><span class="line"><span class="keyword">let</span> id2 = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line"><span class="comment">//They are not equal, but only the description is same for debug meta data</span></span><br><span class="line">id1 == id2; <span class="comment">// false!!!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// id is a symbol with the description &quot;id&quot;</span></span><br><span class="line"><span class="keyword">let</span> id1 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;name&quot;</span>);  <span class="comment">//create if not found in global registry!!</span></span><br><span class="line"><span class="keyword">let</span> id2 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;name&quot;</span>);  <span class="comment">//check global registry with &#x27;name&#x27; key, return if found</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(id1 == id2); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> id3 = <span class="title class_">Symbol</span>(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> id4 = <span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(id3 == id4); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p>That call checks the global registry, and if there’s a symbol described as key, then returns it, otherwise creates a new symbol Symbol(key) and stores it in the registry by the given key.</p>
<p>Symbols don’t auto-convert to a string, and Symbolic properties do not participate in for..in loop.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">symbol_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> id1 = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> id2 = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(id1.<span class="title function_">toString</span>(), id2.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> id = <span class="title class_">Symbol</span>(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> name = <span class="title class_">Symbol</span>(<span class="string">&quot;name&quot;</span>)</span><br><span class="line">    <span class="keyword">let</span> user = &#123; <span class="comment">// belongs to third-party code</span></span><br><span class="line">      <span class="attr">age</span>: <span class="number">30</span>,</span><br><span class="line">      [name]: <span class="string">&quot;John&quot;</span>,</span><br><span class="line">      <span class="comment">// MUST use [] to refer to symbol.</span></span><br><span class="line">      <span class="comment">//no one else can change the value outside of third-party, it&#x27; safe for library</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//without function keyword</span></span><br><span class="line">      [id]()&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="number">10</span>;</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="comment">//with function keyword</span></span><br><span class="line">      <span class="attr">get_age</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">age</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(user[name], user[id]());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Symbolic properties do not participate in for..in loop.</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> att <span class="keyword">in</span> user) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(att, user[att]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(user.<span class="title function_">get_age</span>())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">symbol_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>Symbol(id) Symbol(id)
John 10
age 30
get_age [Function: get_age]
30
</code></pre>
<h2 id="Iterator-x2F-Generator"><a href="#Iterator-x2F-Generator" class="headerlink" title="Iterator&#x2F;Generator"></a>Iterator&#x2F;Generator</h2><h3 id="Iterator"><a href="#Iterator" class="headerlink" title="Iterator"></a>Iterator</h3><p>Iterator is an object, with next method, it wrapps an object(string, array, map) to make it iterable, so that you can iterate the wrapped object by <code>for/of</code>, most of time, you did not call iterator at all, but now how see how it works.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// String, Array, Map etc has a property Symbol.iterator which returns an Iterator.</span></span><br><span class="line"><span class="keyword">let</span> okIterator = <span class="string">&quot;OK&quot;</span>[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(okIterator.<span class="title function_">next</span>());</span><br><span class="line"><span class="comment">// . &#123;value: &quot;O&quot;, done: false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(okIterator.<span class="title function_">next</span>());</span><br><span class="line"><span class="comment">// . &#123;value: &quot;K&quot;, done: false&#125;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(okIterator.<span class="title function_">next</span>());</span><br><span class="line"><span class="comment">// . &#123;value: undefined, done: true&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>Iterator Abstract Interface required</strong><br>First let simulate an Iterator which has <code>next()</code> method, it returns an object which has two keys <code>value</code> and <code>done</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//user is an object.</span></span><br><span class="line"><span class="keyword">let</span> user = &#123;</span><br><span class="line">    <span class="attr">age</span>: <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">makeIterator</span>(<span class="params">array</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> index &lt; array.<span class="property">length</span>?</span><br><span class="line">                &#123;<span class="attr">value</span>: array[index++], <span class="attr">done</span>: <span class="literal">false</span>&#125; :</span><br><span class="line">                &#123;<span class="attr">value</span>: <span class="literal">undefined</span>, <span class="attr">done</span>: <span class="literal">true</span>&#125;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;; <span class="comment">/* here return an object instance which has next method */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> iterS = <span class="title function_">makeIterator</span>([<span class="number">99</span>,<span class="number">88</span>]);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterS.<span class="title function_">next</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterS.<span class="title function_">next</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iterS.<span class="title function_">next</span>());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>];</span><br><span class="line"><span class="keyword">let</span> iter = arr1[<span class="title class_">Symbol</span>.<span class="property">iterator</span>](); <span class="comment">/*!get Iterator of array!*/</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iter.<span class="title function_">next</span>())  <span class="comment">/* value: 1 done: false */</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(iter.<span class="title function_">next</span>())  <span class="comment">/* value: undefined, done: true */</span></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://medium.com/@madasamy/explanation-about-iterators-and-generators-in-javascript-es6-f7e669cbe96e">Iterator</a></p>
<h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><p>When you define a function with function* (placing an asterisk after the word function), it becomes a generator. <code>When you call a generator, it returns an iterator</code>.</p>
<p>Every time you call next on the iterator, the function runs until it hits a yield expression, which pauses it and causes the yielded value to become the next value produced by the iterator. When the function returns (the one in the example never does), the iterator is done.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">generator_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//Generator!!</span></span><br><span class="line">    <span class="keyword">function</span> *<span class="title function_">helloWorldGen</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">let</span> x;</span><br><span class="line">        <span class="keyword">yield</span> <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line">        x = <span class="keyword">yield</span>  <span class="string">&#x27;world&#x27;</span>;</span><br><span class="line">        <span class="comment">// called get &#x27;world&#x27; but x undefined if next doesn&#x27;t take parameter for next call!</span></span><br><span class="line">        <span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//generator return an Iterator.</span></span><br><span class="line">    <span class="keyword">let</span> hw_gen = <span class="title function_">helloWorldGen</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(hw_gen.<span class="title function_">next</span>());</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(hw_gen.<span class="title function_">next</span>());</span><br><span class="line">    <span class="comment">// when next takes parameter, it indicates the last yield express value used internal!</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(hw_gen.<span class="title function_">next</span>(<span class="number">2</span>)); <span class="comment">//console.log(hw_gen.next());</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> elm <span class="keyword">of</span> <span class="title function_">helloWorldGen</span>()) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(elm);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> objiter = &#123;</span><br><span class="line">        <span class="attr">data</span>: [<span class="string">&quot;kk&quot;</span>, <span class="string">&quot;dd&quot;</span>],</span><br><span class="line"></span><br><span class="line">        <span class="comment">//* means a Generator, if you call generator, it returns an Iterator</span></span><br><span class="line">        *[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">let</span> item <span class="keyword">of</span> <span class="variable language_">this</span>.<span class="property">data</span>) &#123;</span><br><span class="line">                <span class="comment">//yield like return, but next call still goes here</span></span><br><span class="line">                <span class="keyword">yield</span> item;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> elm <span class="keyword">of</span> objiter) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(elm);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">generator_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>&#123; value: &#39;hello&#39;, done: false &#125;
&#123; value: &#39;world&#39;, done: false &#125;
&#123; value: 2, done: true &#125;
hello
world
kk
dd
</code></pre>
<h2 id="Async-operation"><a href="#Async-operation" class="headerlink" title="Async operation"></a>Async operation</h2><p>There are couples of ways of syanc operation, from ES5(callback), ES6(Promise), ES7(async&#x2F;await, really new), most of them just wants to make easier to understand and use, here we go</p>
<h3 id="Promise-ES6"><a href="#Promise-ES6" class="headerlink" title="Promise(ES6)"></a>Promise(ES6)</h3><p>Create Promise by three ways</p>
<ul>
<li>one is use new call resolve or reject based on condition —&gt;common way</li>
<li>the other two are call resolve() or reject directly</li>
</ul>
<p><code>Promise.resolve(&#39;hello&#39;) and Promise.reject(&#39;hello&#39;) set Promise&#39;s state with Resolved or Rejected!</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Basic Implementation of Promise</span></span><br><span class="line"><span class="comment">/* 1. each Promise only take one function as its parameter</span></span><br><span class="line"><span class="comment"> * 2. must provide built-in method, then, resolve, reject</span></span><br><span class="line"><span class="comment"> * 3. user passed function when create a Promise and call the passed function with built-in resolve, reject methond</span></span><br><span class="line"><span class="comment"> * 4. built-in then() used to add resolve callbacks and failed callback to proper queue.</span></span><br><span class="line"><span class="comment"> * 5. built-in resolve and reject called callbacked in the proper queues added by then.</span></span><br><span class="line"><span class="comment"> * 6. built-in resolve and reject are called by caller at proper time.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">my_promise_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="title class_">MyPromise</span> = <span class="keyword">function</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> state = <span class="string">&#x27;pending&#x27;</span>;</span><br><span class="line">      <span class="keyword">let</span> doneList = [];</span><br><span class="line">      <span class="keyword">let</span> failList= [];</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">then</span> = <span class="function">(<span class="params">done ,fail</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">switch</span>(state)&#123;</span><br><span class="line">              <span class="keyword">case</span> <span class="string">&#x27;pending&#x27;</span>:</span><br><span class="line">                  <span class="keyword">if</span>(done)</span><br><span class="line">                      doneList.<span class="title function_">push</span>(done);</span><br><span class="line">                  <span class="keyword">if</span>(fail)</span><br><span class="line">                      failList.<span class="title function_">push</span>(fail);</span><br><span class="line">                  <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">              <span class="comment">// no need to add to the queue as state is settled.</span></span><br><span class="line">              <span class="keyword">case</span> <span class="string">&#x27;fulfilled&#x27;</span>:</span><br><span class="line">                  <span class="title function_">done</span>();</span><br><span class="line">                  <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">              <span class="keyword">case</span> <span class="string">&#x27;rejected&#x27;</span>:</span><br><span class="line">                  <span class="title function_">fail</span>();</span><br><span class="line">                  <span class="keyword">return</span> <span class="variable language_">this</span>;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// function keyword can&#x27;t be omitted in function class! can be ignore in class</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">tryToJson</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">          <span class="keyword">let</span> value;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              value = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(obj);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">              value = obj;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span> value</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//user calls resolve and rejct with proper value</span></span><br><span class="line">      <span class="comment">//then resolve passed such value to done callbacks added by then()</span></span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">resolve</span>(<span class="params">newValue</span>) &#123;</span><br><span class="line">          state = <span class="string">&#x27;fulfilled&#x27;</span>;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">let</span> value = <span class="title function_">tryToJson</span>(newValue);</span><br><span class="line">              <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; doneList.<span class="property">length</span>; i++)&#123;</span><br><span class="line">                  <span class="comment">//call done hander added by then</span></span><br><span class="line">                  <span class="keyword">let</span> temp = doneList[i](value);</span><br><span class="line">                  <span class="keyword">if</span> (temp <span class="keyword">instanceof</span> <span class="title class_">MyPromise</span>) &#123;</span><br><span class="line">                      <span class="keyword">let</span> newP = temp;</span><br><span class="line">                      <span class="comment">//done handler returns a new Promise.</span></span><br><span class="line">                      <span class="keyword">for</span> (i++; i &lt; doneList.<span class="property">length</span>; i++) &#123;</span><br><span class="line">                          <span class="comment">//add leftlist to new Promise</span></span><br><span class="line">                          newP.<span class="title function_">then</span>(doneList[i], failList[i]);</span><br><span class="line">                      &#125;</span><br><span class="line">                  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                      <span class="comment">//the previous done return value as the parameter for next done handler.</span></span><br><span class="line">                      value = temp;</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">reject</span>(<span class="params">newValue</span>) &#123;</span><br><span class="line">          state = <span class="string">&#x27;rejected&#x27;</span>;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="keyword">let</span> value = <span class="title function_">tryToJson</span>(newValue);</span><br><span class="line">              <span class="keyword">let</span> tempRe = failList[<span class="number">0</span>](value);</span><br><span class="line">              <span class="keyword">if</span>(tempRe <span class="keyword">instanceof</span> <span class="title class_">MyPromise</span>)&#123;</span><br><span class="line">                  <span class="keyword">let</span> newP = tempRe;</span><br><span class="line">                  <span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;doneList.<span class="property">length</span>;i++) &#123;</span><br><span class="line">                      newP.<span class="title function_">then</span>(doneList[i],failList[i]);</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="comment">//如果不是promise，执行完当前的fail之后，继续执行doneList</span></span><br><span class="line">                  value = tempRe;</span><br><span class="line">                  doneList.<span class="title function_">shift</span>();</span><br><span class="line">                  failList.<span class="title function_">shift</span>();</span><br><span class="line">                  <span class="title function_">resolve</span>(value);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;, <span class="number">0</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="title function_">fn</span>(resolve,reject);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title class_">MyPromise</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">catch</span> = <span class="keyword">function</span>(<span class="params">onRejected</span>) &#123;</span><br><span class="line">      <span class="comment">//catch is just another .then with undefined as input</span></span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">then</span>(<span class="literal">undefined</span>, onRejected)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="title function_">promiFn</span> = (<span class="params">resolve, reject</span>) =&gt; &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">      &#125;, <span class="number">0</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">let</span> ps = <span class="keyword">new</span> <span class="title class_">MyPromise</span>(promiFn);</span><br><span class="line">    ps.<span class="title function_">then</span>(<span class="function"><span class="params">d</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;resolve:&quot;</span>, d)</span><br><span class="line">    &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;error:&quot;</span>, e);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">my_promise_demo</span>();</span><br></pre></td></tr></table></figure>

<pre><code>resolve: 2
</code></pre>
<h4 id="standard-promise-API"><a href="#standard-promise-API" class="headerlink" title="standard promise API"></a>standard promise API</h4><ul>
<li>catch(): registers a handler to be called when the promise is rejected, this callback can also register by .then(success, fail) as second parameter.</li>
<li>.then(success, fail): register success or fail, <code>It returns another promise</code>, which resolves to the value that the handler function returns or, if that returns a promise, waits for that promise and then resolves to its result</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">promise_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&quot;resolve&quot;</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="string">&quot;reject&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//then takes two parameters, success, fail, most of time, we did not set fail, but use catch as well.</span></span><br><span class="line">    p.<span class="title function_">then</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> promise1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>)&#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    promise1.<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> value * <span class="number">2</span>;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> value * <span class="number">2</span>;</span><br><span class="line">    &#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// for each then, it will return a new Promise, and pass the return value to next then</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//Promise.all可以接受一个元素为Promise对象的数组作为参数，</span></span><br><span class="line">    <span class="comment">//当这个数组里面所有的promise对象都变为!!!resolved or rejected!时，该方法才会返回</span></span><br><span class="line">    <span class="comment">//返回值 是所有的Promise的传递的值的数组`)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>)&#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="title function_">resolve</span>(<span class="number">1</span>);</span><br><span class="line">      &#125;,<span class="number">300</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">let</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>)&#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="title function_">resolve</span>(<span class="number">2</span>);</span><br><span class="line">      &#125;,<span class="number">100</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1,p2]).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(value); <span class="comment">// 打印[1,2]</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Promise.race的含义是只要有一个promise对象进入Resloved或者Rejected状态的话，</span></span><br><span class="line">    <span class="comment">//程序就会停止，且会继续后面的处理逻辑；</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// `delay`毫秒后执行resolve</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">timerPromise</span>(<span class="params">delay</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span>(<span class="params">resolve</span>)&#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set timeout&#x27;</span>,delay);</span><br><span class="line">              <span class="title function_">resolve</span>(delay);</span><br><span class="line">          &#125;,delay);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 任何一个promise变为resolve或reject 的话程序就停止运行</span></span><br><span class="line">    <span class="title class_">Promise</span>.<span class="title function_">race</span>([</span><br><span class="line">      <span class="title function_">timerPromise</span>(<span class="number">1</span>),</span><br><span class="line">      <span class="title function_">timerPromise</span>(<span class="number">32</span>),</span><br><span class="line">      <span class="title function_">timerPromise</span>(<span class="number">64</span>),</span><br><span class="line">      <span class="title function_">timerPromise</span>(<span class="number">128</span>)</span><br><span class="line">    ]).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;reslove timeout&#x27;</span>,value);    <span class="comment">// =&gt; 1</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">promise_demo</span>();</span><br></pre></td></tr></table></figure>

<pre><code>resolve
8
set timeout 1
reslove timeout 1
</code></pre>
<h3 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h3><ul>
<li><strong>async ensures that the function returns a promise</strong>, and <code>wraps non-promises in it</code>, nothing to do for promise return, <span style="color:red">console.log(async_function()), it shows promise!!!</span></li>
<li><code>await makes JavaScript wait until that promise settles and returns its result</code><ul>
<li>If it’s an error, the exception is generated — same as if throw error were called at that very place.</li>
<li>Otherwise, it returns the resolved result not promise.</li>
</ul>
</li>
</ul>
<p><strong>Note:</strong></p>
<ul>
<li><p>await only works inside an async function, await won’t work in the top-level code as the top-level is not a async function.</p>
</li>
<li><p>await <code>literally</code> makes JavaScript wait until the promise settles, and then go on with the result. that doesn’t cost any CPU resources, because the engine can do other jobs in the meantime: execute other scripts, handle events.</p>
</li>
</ul>
<p>async&#x2F;await function no longer, like a regular JavaScript function, runs from start to completion in one go. Instead, it can be <code>frozen at any point that has an await, and can be resumed at a later time</code></p>
<p><em>async&#x2F;await aims to replace Promise.then().catch which is hard to understand</em></p>
<p><strong>typical use for async&#x2F;wait</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> response = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="string">&#x27;/no-user-here&#x27;</span>);</span><br><span class="line">    <span class="comment">//json() is async as well! need await</span></span><br><span class="line">    <span class="keyword">let</span> user = <span class="keyword">await</span> response.<span class="title function_">json</span>();</span><br><span class="line">  &#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">    <span class="comment">// catches errors both in fetch and response.json</span></span><br><span class="line">    <span class="title function_">alert</span>(err);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">f</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// wait for the array of results</span></span><br><span class="line"><span class="keyword">let</span> results = <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>([</span><br><span class="line">  <span class="title function_">fetch</span>(url1),</span><br><span class="line">  <span class="title function_">fetch</span>(url2),</span><br><span class="line">  ...</span><br><span class="line">]);</span><br></pre></td></tr></table></figure>

<p><strong>Guide</strong></p>
<p><code>When we use async/await, we rarely need .then, because await handles the waiting for us. And we can use a regular try..catch instead of .catch. That’s usually (but not always) more convenient</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">async_wait_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">solve</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;<span class="comment">//wrapper to Promise.resolve(1);</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">reject</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="number">2</span>);<span class="comment">//no wrapper, as it&#x27;s a promise</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> s = <span class="title function_">solve</span>();</span><br><span class="line">        <span class="keyword">let</span> svalue = <span class="keyword">await</span> s;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(svalue);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">let</span> rvalue = <span class="keyword">await</span> <span class="title function_">reject</span>();</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(rvalue);</span><br><span class="line">        &#125; <span class="keyword">catch</span>(err) &#123;</span><br><span class="line">            <span class="comment">//err has the value 2</span></span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(err);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//async always return a Promise(wrapper or not)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">test</span>()</span><br><span class="line">    <span class="comment">//test().then(data=&gt;console.log(data)); is fine!! should we use it this way?</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">retun_is_promise</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">retun_is_promise</span>());</span><br><span class="line"><span class="comment">//get resolved promise value</span></span><br><span class="line"><span class="title function_">retun_is_promise</span>().<span class="title function_">then</span>(<span class="function"><span class="params">data</span>=&gt;</span><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;resolved data: &quot;</span>, data));</span><br><span class="line"></span><br><span class="line"><span class="title function_">async_wait_demo</span>();</span><br></pre></td></tr></table></figure>

<pre><code>Promise &#123; 1 &#125;
</code></pre>
<h2 id="spread-destructing-operator"><a href="#spread-destructing-operator" class="headerlink" title="spread destructing operator"></a>spread destructing operator</h2><p>These are special cases for Array and object, shorthand.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">operator_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//spread using ...</span></span><br><span class="line">    <span class="keyword">let</span> array1 = [<span class="number">1</span>, <span class="number">2</span>];</span><br><span class="line">    <span class="comment">// let array2 = array1.concat(3);</span></span><br><span class="line">    <span class="keyword">let</span> array2 = [...array1, <span class="number">3</span>];</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(array2);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> ob1 = &#123;<span class="string">&quot;a&quot;</span>: <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="comment">//spread using ...</span></span><br><span class="line">    <span class="keyword">let</span> ob2 = &#123;...ob1, <span class="string">&quot;b&quot;</span>:<span class="number">2</span>&#125;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(ob2)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">rest</span>(<span class="params">a, ...rest</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(rest);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">rest</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">//the rest parameters as an array</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//destructing, the left, should no more than right, the right is iterable!!!</span></span><br><span class="line">    <span class="keyword">let</span> [<span class="keyword">as</span>, bs, cs] = <span class="string">&quot;str&quot;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">as</span>, bs, cs);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> [a, b, c=<span class="number">3</span>] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">5</span>]; <span class="comment">// c default is overwritten</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//other store left attributes with new object</span></span><br><span class="line">    <span class="comment">//the var name must be same as key as object has no order,</span></span><br><span class="line">    <span class="comment">// you need to which value you want to destruct on left side</span></span><br><span class="line">    <span class="keyword">let</span> &#123;oa, ob, ...other&#125; = &#123;<span class="string">&quot;oa&quot;</span>:<span class="number">1</span>, <span class="string">&quot;ob&quot;</span>:<span class="number">2</span>, <span class="string">&quot;oc&quot;</span>:<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="comment">//other is new object with &#123;&quot;oc&quot;: 3&#125;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(oa, ob, other);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">dest</span>(<span class="params">d, [a, b, c=<span class="number">3</span>]</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">dest</span>(<span class="number">4</span>, [<span class="number">1</span>, <span class="number">2</span>]);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//must have &#123;&#125; in parameter and pass an object with same key</span></span><br><span class="line">    <span class="comment">//a rename a1, c is object, take all left.</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">mdest</span>(<span class="params">d, &#123;a:a1, b, ...c&#125;</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(a1, b, d, c);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">adest</span>(<span class="params">d, obj</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">a</span>, obj.<span class="property">b</span>, d, obj.<span class="property">c</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">mdest</span>(<span class="number">3</span>, &#123;<span class="string">&quot;a&quot;</span>:<span class="number">1</span>, <span class="string">&quot;b&quot;</span>:<span class="number">2</span>, <span class="string">&quot;c&quot;</span>: <span class="number">3</span>, <span class="attr">d</span>: <span class="number">4</span>&#125;);</span><br><span class="line">    <span class="title function_">adest</span>(<span class="number">3</span>, &#123;<span class="string">&quot;a&quot;</span>:<span class="number">1</span>, <span class="string">&quot;b&quot;</span>:<span class="number">2</span>, <span class="string">&quot;c&quot;</span>: <span class="number">3</span>&#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">operator_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>resolved data:  1
1
2
set timeout 32
[ 1, 2, 3 ]
&#123; a: 1, b: 2 &#125;
[ 2, 3 ]
s t r
1 2 4
1 2 &#123; oc: 3 &#125;
1 2 3
1 2 3 &#123; c: 3, d: 4 &#125;
1 2 3 3
</code></pre>
<h2 id="Modules"><a href="#Modules" class="headerlink" title="Modules"></a>Modules</h2><h3 id="ES5"><a href="#ES5" class="headerlink" title="ES5"></a>ES5</h3><p>ES5 commonJS way used by node</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//one symbol(default)</span></span><br><span class="line"><span class="comment">//add.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//default</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = add;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test.js</span></span><br><span class="line"><span class="comment">//rename import symbol</span></span><br><span class="line"><span class="keyword">var</span> add_two = <span class="built_in">require</span>(<span class="string">&quot;./add&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> add = <span class="built_in">require</span>(<span class="string">&quot;./add&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add_two</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//several symbols</span></span><br><span class="line"><span class="comment">//op.js</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">add_two</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sub</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a - b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//rename export symbols</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">add</span> = add_two;</span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">sub</span> = sub;</span><br><span class="line"></span><br><span class="line"><span class="comment">//test.js</span></span><br><span class="line"><span class="keyword">var</span> &#123;add, sub&#125; = <span class="built_in">require</span>(<span class="string">&#x27;./op&#x27;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">add</span>(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> sub_two = <span class="built_in">require</span>(<span class="string">&#x27;./op&#x27;</span>).<span class="property">sub</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">sub_two</span>(<span class="number">2</span>, <span class="number">1</span>));</span><br></pre></td></tr></table></figure>

<h3 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h3><p>ES5 has severals way to export and import for a module while ES6 defines a standard way, here we go.<br>It only loads the required at compiling, you can load some exported symbols or all.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;stat <span class="keyword">as</span> fileStat, readFile&#125; <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>        <span class="comment">//load all exported symbols!</span></span><br><span class="line"><span class="comment">//fs.count, fs.stat, fs.readFile, fs.number</span></span><br></pre></td></tr></table></figure>

<p><strong>export ways</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fs.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">stat</span>(<span class="params"></span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">readFile</span>(<span class="params"></span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Or this way</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">stat</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">readFile</span>(<span class="params"></span>)&#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// with this way can rename when export, Better Way!!!</span></span><br><span class="line"><span class="keyword">export</span> &#123;stat, readFile, count <span class="keyword">as</span> number&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>default export</strong><br>Each module can only has one default export which has no export name(actuall it’s <code>default</code> name)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//fs.js</span></span><br><span class="line"><span class="comment">//no function name</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//use module name as default name, it&#x27;s common way.</span></span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> fs <span class="keyword">as</span> renamed_stat <span class="keyword">from</span> fs;</span><br><span class="line"><span class="keyword">import</span> &#123;<span class="keyword">default</span> <span class="keyword">as</span> renamed_stat <span class="keyword">from</span> fs&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Node-finding-module"><a href="#Node-finding-module" class="headerlink" title="Node finding module"></a>Node finding module</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># js search module in such path order(current, global)</span></span><br><span class="line"><span class="comment"># make sure npm or yarn add module at proper path</span></span><br><span class="line"></span><br><span class="line">(base) root@dev:~/shared/github<span class="comment"># node</span></span><br><span class="line">&gt; module.paths</span><br><span class="line">[ <span class="string">&#x27;/root/windows/shared/github/repl/node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/windows/shared/github/node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/windows/shared/node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/windows/node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/.node_modules&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/.node_libraries&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;/root/anaconda3/lib/node&#x27;</span> ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># check yarn/npm global module dir</span></span><br><span class="line">$ yarn global <span class="built_in">dir</span></span><br><span class="line">$ npm <span class="built_in">ls</span> -g --depth 0</span><br></pre></td></tr></table></figure>

<h2 id="Low-leve-API-for-buffer"><a href="#Low-leve-API-for-buffer" class="headerlink" title="Low-leve API for buffer"></a>Low-leve API for buffer</h2><p>In some case, you may want to manipulate on buffer(bytes level) like in network programming, JS supports this by providing low-level API <code>Binary buffer</code> and <code>DataView</code>.</p>
<h2 id="for-in-vs-for-of"><a href="#for-in-vs-for-of" class="headerlink" title="for in vs for of"></a>for in vs for of</h2><ul>
<li><p>The for…in statement iterates over the <code>enumerable properties(include inherited) of an object</code>, in an <code>arbitrary order</code> different js engine may produce different result, it used to <code>check attribute(key) of object</code>, the each key is a string!!!</p>
</li>
<li><p>The for…of statement iterates over <code>values that the iterable object(string, array, map)</code> defines to be iterated over, <code>get the value of each iterator object</code> like string, array, map!</p>
</li>
</ul>
<p><strong>Be Careful</strong></p>
<ul>
<li>Make sure <code>not to modify an object while enumerating its properties with a for...in loop</code>.</li>
<li>Use a while loop or classic for loop instead of a for…in loop when iterating over an object whose contents might change during the loop.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">for_in_of_demo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">arrCustom</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> iterable = [<span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>];</span><br><span class="line">    iterable.<span class="property">foo</span> = <span class="string">&#x27;hello&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> i <span class="keyword">in</span> iterable) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> i, i); <span class="comment">//0, 1, 2, &quot;foo&quot;, &quot;arrCustom&quot;</span></span><br><span class="line">      <span class="comment">// ther order is not guaranteed, it depends on js engine.</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> i <span class="keyword">in</span> iterable) &#123;</span><br><span class="line">      <span class="comment">// arrCustom is not peoprity but prototype(method)</span></span><br><span class="line">      <span class="keyword">if</span> (iterable.<span class="title function_">hasOwnProperty</span>(i)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// logs 0, 1, 2, &quot;foo&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> i <span class="keyword">of</span> iterable) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i); <span class="comment">// logs 3, 5, 7</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">for_in_of_demo</span>()</span><br></pre></td></tr></table></figure>

<pre><code>string 0
string 1
string 2
string foo
string arrCustom
0
1
2
foo
3
5
7
</code></pre>
<h2 id="let-vs-const-vs-var"><a href="#let-vs-const-vs-var" class="headerlink" title="let vs const vs var"></a>let vs const vs var</h2><p>let and const declarations allow you to create block-scoped variables<br>A variable declared with the var keyword is available from the <code>function</code> it is declared in.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// myVarVariable *is* visible out here</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> myVarVariable = <span class="number">0</span>; myVarVariable &lt; <span class="number">5</span>; myVarVariable++) &#123;</span><br><span class="line">  <span class="comment">// myVarVariable is visible to the whole function</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// myVarVariable *is* visible out here</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> name = <span class="string">&#x27;Matt&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// Matt</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name); <span class="comment">// Matt</span></span><br></pre></td></tr></table></figure>
<h3 id="var-special"><a href="#var-special" class="headerlink" title="var special"></a>var special</h3><p>without declaration to access a variable, a <code>global variable is defined after that access</code>, <code>it&#39;s valid non strict mode</code> even it’s not good way to do so.</p>
<p><strong>var Declaration Hoisting</strong><br>The interpreter pulls all variable declarations to the top of its scope. It also allows you to use redundant var declarations without penalty.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">26</span>; <span class="comment">// you not see age value until here</span></span><br><span class="line">    <span class="title function_">inner</span>(); <span class="comment">// you can see inner here as function declaration always lift up!!!</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">inner</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;inner&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<p>equal to below</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> age;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age);</span><br><span class="line">    age = <span class="number">26</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>


<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// &quot;use strict&quot;;</span></span><br><span class="line">    b = <span class="number">15</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b);</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// undefined as all var declarations are pulled up to begining of function.</span></span><br><span class="line">    <span class="keyword">var</span> age = <span class="number">26</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br></pre></td></tr></table></figure>

<pre><code>15
undefined
15
set timeout 64
set timeout 128
[ 1, 2 ]
</code></pre>
<h3 id="let"><a href="#let" class="headerlink" title="let"></a>let</h3><p><strong>let is not hoisted</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(age); <span class="comment">// ReferenceError: age is not defined</span></span><br><span class="line"><span class="keyword">let</span> age = <span class="number">26</span></span><br></pre></td></tr></table></figure>

<p>A let declaration also does not allow for any redundant declarations within a block scope. Doing so will result in an error:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">var</span> name;</span><br><span class="line"><span class="keyword">let</span> age;</span><br><span class="line"><span class="keyword">let</span> age; <span class="comment">// SyntaxError; identifier &#x27;age&#x27; has already been declared</span></span><br></pre></td></tr></table></figure>

<h3 id="const"><a href="#const" class="headerlink" title="const"></a>const</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;&#125; <span class="comment">// TypeError: assignment to constant variable</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">in</span> &#123;<span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>&#125;) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// a, b</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]) &#123;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1, 2, 3, 4, 5</span></span><br></pre></td></tr></table></figure>

<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ul>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference">Reference</a></li>
</ul>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpeg" alt="Jason WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"># javascript</a>
              <a href="/tags/js/" rel="tag"># js</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/07/20/html-jquery/" rel="prev" title="html_jquery">
                  <i class="fa fa-chevron-left"></i> html_jquery
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/07/23/react-setup/" rel="next" title="react_setup">
                  react_setup <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cyun All rights reserved</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"jason-bj/blog","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
