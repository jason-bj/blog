<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <meta name="google-site-verification" content="xitt2fbphh1nTeWLiTWc0lCggHuxJ5heMcAzkHW2vno">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"cyun.tech","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":10,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="BashIntroductionAs bash is old or native way to run commands, there are lots of scripts written with bash, so it’s a must to know bash and do some basic work. Better use python instead of bash as you">
<meta property="og:type" content="article">
<meta property="og:title" content="bash-basic">
<meta property="og:url" content="http://cyun.tech/2019/12/23/bash-basic/index.html">
<meta property="og:site_name" content="CYun">
<meta property="og:description" content="BashIntroductionAs bash is old or native way to run commands, there are lots of scripts written with bash, so it’s a must to know bash and do some basic work. Better use python instead of bash as you">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2019-12-23T07:22:44.000Z">
<meta property="article:modified_time" content="2023-08-16T15:02:01.130Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="bash">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://cyun.tech/2019/12/23/bash-basic/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://cyun.tech/2019/12/23/bash-basic/","path":"2019/12/23/bash-basic/","title":"bash-basic"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>bash-basic | CYun</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148730544-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-148730544-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?a510d1f580c8231f8f867d14f42bb8ea"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">CYun</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Bash"><span class="nav-number">1.</span> <span class="nav-text">Bash</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction"><span class="nav-number">1.1.</span> <span class="nav-text">Introduction</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#printing"><span class="nav-number">1.2.</span> <span class="nav-text">printing</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#special-characters"><span class="nav-number">1.3.</span> <span class="nav-text">special characters</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Standard-wildcards-globing"><span class="nav-number">1.3.1.</span> <span class="nav-text">Standard wildcards(globing)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#variable"><span class="nav-number">1.4.</span> <span class="nav-text">variable</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#local-x2F-global-var"><span class="nav-number">1.4.1.</span> <span class="nav-text">local &#x2F;global var</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#env-var"><span class="nav-number">1.4.2.</span> <span class="nav-text">env var</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#array-pay-attention"><span class="nav-number">1.5.</span> <span class="nav-text">array[pay attention]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#function"><span class="nav-number">1.6.</span> <span class="nav-text">function</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#parameter"><span class="nav-number">1.6.1.</span> <span class="nav-text">parameter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#definition"><span class="nav-number">1.6.2.</span> <span class="nav-text">definition</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Subshell"><span class="nav-number">1.7.</span> <span class="nav-text">Subshell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#substitution-pay-attention"><span class="nav-number">1.8.</span> <span class="nav-text">substitution[pay attention]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#compare-or-condition"><span class="nav-number">1.9.</span> <span class="nav-text">compare or condition</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#flow-control"><span class="nav-number">1.10.</span> <span class="nav-text">flow control</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#signal"><span class="nav-number">1.11.</span> <span class="nav-text">signal</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#string-slice-of-string-pay-attention"><span class="nav-number">1.12.</span> <span class="nav-text">string(slice of string)[pay attention]</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#tips"><span class="nav-number">1.13.</span> <span class="nav-text">tips</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#debug-shell"><span class="nav-number">1.13.1.</span> <span class="nav-text">debug shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redirect"><span class="nav-number">1.13.2.</span> <span class="nav-text">redirect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#cd-vs-pushd-x2F-popd"><span class="nav-number">1.13.3.</span> <span class="nav-text">cd vs pushd&#x2F;popd</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vs-vs-let-vs-expr"><span class="nav-number">1.13.4.</span> <span class="nav-text">() vs (()) vs let vs expr</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vs"><span class="nav-number">1.13.5.</span> <span class="nav-text">[] vs [[]]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#brace-expansion"><span class="nav-number">1.13.6.</span> <span class="nav-text">brace expansion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read-a-file"><span class="nav-number">1.13.7.</span> <span class="nav-text">read a file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dict-in-shell-pay-attention"><span class="nav-number">1.13.8.</span> <span class="nav-text">dict in shell [pay attention]</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#difference-with-or-without-%E2%80%9C%E2%80%9D-for-variable-expansion"><span class="nav-number">1.13.9.</span> <span class="nav-text">difference with or without “” for variable expansion</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IFS"><span class="nav-number">1.13.10.</span> <span class="nav-text">IFS</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#include-file"><span class="nav-number">1.13.11.</span> <span class="nav-text">include file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#random-number"><span class="nav-number">1.13.12.</span> <span class="nav-text">random number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#do-another-operation-if-first-command-runs-ok"><span class="nav-number">1.13.13.</span> <span class="nav-text">do another operation if first command runs ok</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#quotes"><span class="nav-number">1.13.14.</span> <span class="nav-text">quotes</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#check-string-contains"><span class="nav-number">1.13.15.</span> <span class="nav-text">check string contains</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Ref"><span class="nav-number">2.</span> <span class="nav-text">Ref</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jason"
      src="/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">145</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">138</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">150</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/jason-cyun" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jason-cyun" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jason_lkm@163.com" title="E-Mail → mailto:jason_lkm@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://cyun.tech/2019/12/23/bash-basic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="Jason">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CYun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="bash-basic | CYun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          bash-basic
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-12-23 15:22:44" itemprop="dateCreated datePublished" datetime="2019-12-23T15:22:44+08:00">2019-12-23</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2023-08-16 23:02:01" itemprop="dateModified" datetime="2023-08-16T23:02:01+08:00">2023-08-16</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/bash/" itemprop="url" rel="index"><span itemprop="name">bash</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/bash/demo/" itemprop="url" rel="index"><span itemprop="name">demo</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Bash"><a href="#Bash" class="headerlink" title="Bash"></a>Bash</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>As bash is old or native way to run commands, there are lots of scripts written with bash, so it’s <code>a must to know bash</code> and do some basic work.</p>
<p><font color='red'>Better use python instead of bash as you can <code>call bash in python</code> and use python powerful features</font></p>
<span id="more"></span>

<h2 id="printing"><a href="#printing" class="headerlink" title="printing"></a>printing</h2><p>There are several ways for printing and writing multiple lines, <code>echo</code> is the easy way to do</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># print multiple lines</span></span><br><span class="line">$ <span class="built_in">echo</span> -e <span class="string">&quot;a\nb&quot;</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;a</span></span><br><span class="line"><span class="string">b&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># write multiple lines to a file</span></span><br><span class="line">$ <span class="built_in">echo</span> -e <span class="string">&quot;a\nb&quot;</span> &gt;file</span><br><span class="line">$ <span class="built_in">echo</span> <span class="string">&quot;a</span></span><br><span class="line"><span class="string">b&quot;</span> &gt;file</span><br><span class="line">$ <span class="built_in">cat</span> &lt;&lt;<span class="string">END &gt;file</span></span><br><span class="line"><span class="string">a</span></span><br><span class="line"><span class="string">b</span></span><br><span class="line"><span class="string">END</span></span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;a b&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># printing in multiple lines</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;a</span></span><br><span class="line"><span class="string">b&quot;</span></span><br><span class="line"><span class="comment"># write in one line, printing in multiple lines</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;a\nb&quot;</span></span><br></pre></td></tr></table></figure>

<pre><code>a b
a
b
a
b
</code></pre>
<h2 id="special-characters"><a href="#special-characters" class="headerlink" title="special characters"></a>special characters</h2><p>Special characters here mean <code>shell sees them special but not treated as regular pattern</code>, if shell treats them as pattern, its meaning may be different. see an example.</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$</span><span class="language-bash"><span class="built_in">ls</span></span></span><br><span class="line">a.c abd.c abc.c</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">grep <span class="string">&quot;ab*&quot;</span> ab*</span></span><br><span class="line">abd.c:`a`</span><br><span class="line">abd.c:`ab`c</span><br><span class="line">abd.c:`ab`</span><br><span class="line">abc.c:`ab`b</span><br><span class="line">abc.c:`ab`d</span><br></pre></td></tr></table></figure>
<p><strong><code>grep &quot;ab*&quot; ab* search pattern ab*(a, ab matched, abc not match)</code> from file which starts with ab(abd.c, abc.c all match)</strong></p>
<p><font color='red'>whitespace</font> The most special char in shell is <code>whitespace</code>, <code>whitespace</code> is used as separator for parameters, like function parameter, test parameter etc.</p>
<p><font color='red'>;</font> <code>semi-colon is used to separate instructions if at same line</code>, if each instruction at each line, <code>;</code> can be ignored. <code>$ls;date</code></p>
<p><font color='red'>*</font> <code>any more(0-)</code>characters    <code>#ls ab*</code>—&gt;file ab matches</p>
<p><font color='red'>?</font> <code>any character, just one</code>    <code>#ls ab?</code>  —&gt;file ab not match!!</p>
<p><font color='red'>[]</font> <code>any character inside it becomes normal except \ [] !</code> <code>#ls test.[ch]</code></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- indicates different meanings depends on its location</span><br><span class="line">[a-z] – linker</span><br><span class="line">[-az] – normal</span><br><span class="line">[az-] - normal</span><br><span class="line"></span><br><span class="line">! must be a start to negate the condition, can&#x27;t be other place</span><br><span class="line">[!a-z]</span><br><span class="line">[\!a-z]</span><br><span class="line">[a!z] error</span><br><span class="line">[a\!z] ok</span><br></pre></td></tr></table></figure>
<p><font color='red'>|</font> command pipe, <code>#ls ab* | xargs cat</code></p>
<p><font color='red'>()</font> group command, <code>run command in subshell</code>, <code>#msg=$(echo hello)</code></p>
<p><font color='red'>&amp;</font>  run in background</p>
<p><font color='red'>‘’</font>  keep all(characters) as literal inside, <code>Any char in &#39;&#39; are escaped</code>, <strong><code>echo &#39;I\&#39;m a boy&#39; #error</code></strong></p>
<p><font color='red'>“”</font>  quotes string and evaluates variable  <code>#echo &quot;$var&quot;</code></p>
<p><strong>most chars in “” (except [$, &#96;, \]) are escaped</strong></p>
<p><font color='red'>\</font> escape character</p>
<p><font color='red'>&#96;&#96;</font> run command and get its output, <strong>#msg&#x3D;`echo hello`</strong></p>
<h3 id="Standard-wildcards-globing"><a href="#Standard-wildcards-globing" class="headerlink" title="Standard wildcards(globing)"></a>Standard wildcards(globing)</h3><p><strong>Standard wildcards (also known as globing patterns)</strong> are used by various command-line utilities to work with multiple files. <code>Standard wildcards are used by nearly any command</code> (including mv, cp, rm and many others). </p>
<ul>
<li><p><code>? (question mark)</code></p>
<blockquote>
<p><code>this can represent any single character</code>. If you specified something at the command line like “hd?” GNU&#x2F;Linux would look for hda, hdb, hdc and every other letter&#x2F;number between a-z, 0-9.</p>
</blockquote>
</li>
<li><p><code>* (asterisk)</code></p>
<blockquote>
<p><code>this can represent any number of characters</code> (including zero, in other words, zero or more characters). If you specified a “cd*” it would use “cda”, “cdrom”, “cdrecord” and anything that starts with “cd” also including “cd” itself. “m*l” could by mill, mull, ml, and anything that starts with an m and ends with an l.</p>
</blockquote>
</li>
<li><p><code>[ ] (square brackets)</code></p>
</li>
</ul>
<blockquote>
<p><code>specifies a range</code>. If you did <code>m[a,o,u]m it can become: mam, mum, mom</code> if you did: m[a-d]m it can become anything that starts and ends with m and has any character a to d in between. For example, these would work: mam, mbm, mcm, mdm. This kind of wildcard specifies an “or” relationship (<strong>you only need one to match</strong>).</p>
</blockquote>
<ul>
<li><p><code>&#123; &#125; (curly brackets, also called brace)</code></p>
<blockquote>
<p><code>terms are separated by commas and each term must be the name of something or a wildcard</code>. This wildcard will copy anything that matches either wildcard(s), or exact name(s) (an “or” relationship, one or the other).</p>
</blockquote>
</li>
<li><p><code>[!]</code></p>
<blockquote>
<p>This construct is similar to the [ ] construct, except rather than matching any characters inside the brackets, <code>it&#39;ll match any character, as long as it is not listed between the [ and ]</code>. This is a logical NOT. For example rm myfile[!9] will remove all myfiles* (ie. myfiles1, myfiles2 etc) but won’t remove a file with the number 9 anywhere within it’s name.</p>
</blockquote>
</li>
</ul>
<h2 id="variable"><a href="#variable" class="headerlink" title="variable"></a>variable</h2><p>Like Python, variable has week type(<code>no need to declare it first</code>), <code>shell checks its type only when it runs</code>, like others, shell has <code>local, global, env</code> variable, if no keyword is specified, <code>default is global!</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line">na=<span class="string">&quot;hi&quot;</span></span><br><span class="line">name=<span class="string">&quot;jason    kk&quot;</span> <span class="comment"># must wihout space at both side of =</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>         <span class="comment"># max match, space supressed</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &#123;&#125; is needed to when link with others, to ensure where the edge of variable!!!!</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;na&#125;</span>me <span class="comment"># string link, nothing needed.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;&quot; is needed to prevent space supressed.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$name</span>&quot;</span> <span class="comment"># keep orignal, no space supressed.</span></span><br><span class="line"><span class="comment"># &quot;&quot; &#123;&#125; are necessary in some case, but can be ignore in others.</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span>, <span class="variable">$&#123;name&#125;</span>, <span class="string">&quot;<span class="variable">$&#123;name&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;#name&#125;</span>&quot;</span> <span class="comment"># the length of string variable, count of array $&#123;#name[@]&#125; if name is an array</span></span><br></pre></td></tr></table></figure>

<pre><code>jason kk
hime
jason    kk
jason kk, jason kk, jason    kk
11
</code></pre>
<h3 id="local-x2F-global-var"><a href="#local-x2F-global-var" class="headerlink" title="local &#x2F;global var"></a>local &#x2F;global var</h3><p><code>by default, variable is global</code>, but you can only add <code>local</code> keyword in function to strict its scope, <code>local</code> keyword can’t be used outside of a function. but all variables(local global) can be seen in sushell(forked process) as well, but <code>it&#39;s another copy of these variables, changed in subshell not see by parent!!!</code></p>
<p><strong>special var</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$?	Exit status of last task</span><br><span class="line">$$	PID of shell process</span><br><span class="line">$0	Filename of the shell script</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="function"><span class="title">var_func</span></span>() &#123;</span><br><span class="line">  <span class="built_in">local</span> a=12</span><br><span class="line">  b=20 <span class="comment"># global, can be seen outside of the function</span></span><br><span class="line"></span><br><span class="line">  c=$(</span><br><span class="line">    <span class="built_in">let</span> a=a+1</span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">  ) <span class="comment"># run in subshell, still see a, get sushell output by $()</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;in function c=<span class="variable">$c</span>&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;in function a=<span class="variable">$a</span>&quot;</span> <span class="comment"># a in unchanged in parent</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># local d=23 error!  local can&#x27;t be used outside of function</span></span><br><span class="line">var_func</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;in main: a=<span class="variable">$a</span>&quot;</span> <span class="comment">#a is undefined with null value(as a in var_func is local)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;in main: b=<span class="variable">$b</span>&quot;</span></span><br></pre></td></tr></table></figure>

<pre><code>in function c=13
in function a=12
in main: a=
in main: b=20
</code></pre>
<h3 id="env-var"><a href="#env-var" class="headerlink" title="env var"></a>env var</h3><p>Env variable is defined outside of the a script, or you can define it in the script, so that all subshells can have it.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="built_in">declare</span> env_va=<span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$env_va</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span> <span class="comment"># access default env variable</span></span><br></pre></td></tr></table></figure>

<pre><code>hello
/home/data/Anaconda3/envs/py3.9/bin:/opt/llvm/bin:/home/data/Anaconda3/envs/py3.9/bin:/home/data/Anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/home/go:/home/go/bin:/root/.yarn_pkg/bin:/usr/lib64:/usr/local/go/bin:/home/data/Anaconda3/envs/py3.9/libexec/git-core:/root/bin:/root/.yarn_pkg/bin:/home/go/bin:/home/go:/usr/local/go/bin
</code></pre>
<h2 id="array-pay-attention"><a href="#array-pay-attention" class="headerlink" title="array[pay attention]"></a>array[pay attention]</h2><p>you can define an array with one line <code>Fruits=(&#39;Apple&#39; &#39;Banana&#39; &#39;Orange&#39;)</code> or add item at any slot <code>Fruits[1]=&quot;Ab&quot;</code> or remove one element <code>unset Fruits[1]</code>, then you can access <code>one item or all items or range items</code> like below</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- all items---echo $&#123;Fruits[@]&#125;</span><br><span class="line">- one item----echo $&#123;Fruits[0]&#125;</span><br><span class="line">- range-------echo $&#123;Fruits[@]:0:2&#125;# Range (from position 0, length 2)</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="comment"># Fruits=(&#x27;Apple&#x27; &#x27;Banana&#x27; &#x27;Orange&#x27;)</span></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line"><span class="comment"># no need declare array, just use it directly!!!</span></span><br><span class="line">Fruits[0]=<span class="string">&quot;Apple&quot;</span></span><br><span class="line">Fruits[1]=<span class="string">&quot;Banana&quot;</span></span><br><span class="line">Fruits[3]=<span class="string">&quot;Orange&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;Fruits[0]&#125;</span>       <span class="comment"># Element #0</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;Fruits[@]&#125;</span>&quot;</span>     <span class="comment"># All elements, space-separated</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#Fruits[@]&#125;</span>      <span class="comment"># 3: Number of elements, no count null slot</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#Fruits&#125;</span>         <span class="comment"># String length of the 1st element</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#Fruits[2]&#125;</span>      <span class="comment"># String length of the Nth element, no skip, index 2 is null slot</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;Fruits[@]:0:3&#125;</span>&quot;</span> <span class="comment"># Range (from position 0, length 3), no count null slot</span></span><br><span class="line"></span><br><span class="line">Fruits=(<span class="string">&quot;<span class="variable">$&#123;Fruits[@]&#125;</span>&quot;</span> <span class="string">&quot;Watermelon&quot;</span>)    <span class="comment"># Push</span></span><br><span class="line">Fruits+=(<span class="string">&#x27;Watermelon&#x27;</span>)                  <span class="comment"># Also Push</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;Fruits[@]&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Fruits is reset with new index</span></span><br><span class="line">Fruits=(<span class="variable">$&#123;Fruits[@]/Ap*/&#125;</span>)              <span class="comment"># Remove by regex match</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;Fruits[@]&#125;</span>&quot;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># index is not change, slot 1 is null!!</span></span><br><span class="line"><span class="built_in">unset</span> <span class="string">&quot;Fruits[1]&quot;</span>                         <span class="comment"># Remove one item</span></span><br><span class="line"><span class="comment"># Fruits=(&quot;$&#123;Fruits[@]&#125;&quot;)                 # Duplicate</span></span><br><span class="line"><span class="comment"># Fruits=(&quot;$&#123;Fruits[@]&#125;&quot; &quot;$&#123;Veggies[@]&#125;&quot;) # Concatenate</span></span><br><span class="line"><span class="comment">#lines=(`cat &quot;logfile&quot;`)                  # Read from file</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;Fruits[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> -n <span class="string">&quot;<span class="variable">$i</span> &quot;</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<pre><code>Apple
Apple Banana Orange
3
5
0
Apple Banana Orange
Apple Banana Orange Watermelon Watermelon
Banana Orange Watermelon Watermelon
Banana Watermelon Watermelon 
</code></pre>
<h2 id="function"><a href="#function" class="headerlink" title="function"></a>function</h2><p><code>Unsupported declare function parameter like function(a,b), use $1, $2 etc</code></p>
<h3 id="parameter"><a href="#parameter" class="headerlink" title="parameter"></a>parameter</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$#</span>----number of parameters from <span class="built_in">command</span> line(not count script name)</span><br><span class="line"><span class="variable">$1</span>----the first parameter</span><br><span class="line"><span class="comment"># above rule apply function as well</span></span><br><span class="line"></span><br><span class="line"><span class="variable">$0</span>----script name(no parameter) with path together (<span class="built_in">basename</span> <span class="variable">$0</span> ,just the script name)</span><br></pre></td></tr></table></figure>
<p><code>$ ./myspt.sh h1 h2</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$#-----2</span><br><span class="line">$1-----&quot;hi&quot;</span><br><span class="line">$0-----./myspt.sh</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the parameters are regarded as one long quoted string</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;Using \&quot;\$*\&quot;:&quot;</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="string">&quot;$*&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$a</span>;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the string is broken into words by the for loop</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\nUsing \$*:&quot;</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> $*; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$a</span>;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># it treats each element of $@ as a quoted string:</span></span><br><span class="line"><span class="comment"># this is mostly what you want!!!</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\nUsing \&quot;\$@\&quot;:&quot;</span></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$a</span>;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># it treats each element as an unquoted string, so the last one is again split by what amounts to for three four</span></span><br><span class="line"><span class="built_in">echo</span> -e <span class="string">&quot;\nUsing \$@:&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> <span class="variable">$@</span>; <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="variable">$a</span>;</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">$ ./myspt.sh h1 h2</span><br><span class="line">Using <span class="string">&quot;$*&quot;</span>:</span><br><span class="line">one two three four</span><br><span class="line"></span><br><span class="line">Using $*:</span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three</span><br><span class="line">four</span><br><span class="line"></span><br><span class="line">Using <span class="string">&quot;<span class="variable">$@</span>&quot;</span>:</span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three four</span><br><span class="line"></span><br><span class="line">Using <span class="variable">$@</span>:</span><br><span class="line">one</span><br><span class="line">two</span><br><span class="line">three</span><br><span class="line">four</span><br></pre></td></tr></table></figure>

<blockquote>
<p>The implementation of “$<em>“ has always been a problem and realistically should have been replaced with the behavior of “$@”. In almost every case where coders use “$</em>“, they mean “$@”. “$*” can cause bugs and even security holes in your software.</p>
</blockquote>
<p><strong>always use “$@” if you want to check all parameters as it’s mostly what you want</strong></p>
<h3 id="definition"><a href="#definition" class="headerlink" title="definition"></a>definition</h3><ul>
<li><code>no return keyword, output as return</code></li>
<li><code>no explicit parameter list</code></li>
<li>get the return value by command group <code>()</code> or command substitution &#96;&#96;</li>
<li><strong><code>$() is the suggested way</code></strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="function"><span class="title">max</span></span> () &#123;</span><br><span class="line">    <span class="keyword">if</span> ((<span class="variable">$1</span> &gt; <span class="variable">$2</span> )); <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$1</span>&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$2</span>&quot;</span></span><br><span class="line">    <span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># get function output</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;max is: <span class="subst">$(max 1 2)</span>&quot;</span></span><br><span class="line"><span class="built_in">let</span> m=`max 1 2`</span><br><span class="line"><span class="built_in">let</span> m=$(max 1 2) <span class="comment"># run in subshell</span></span><br></pre></td></tr></table></figure>

<pre><code>max is: 2
</code></pre>
<h2 id="Subshell"><a href="#Subshell" class="headerlink" title="Subshell"></a>Subshell</h2><p><code>()(group command) runs in subshell</code>, all others run in main shell like <code>&#123;&#125;, (())</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line">(a=12) <span class="comment"># subshell</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  b=12; <span class="comment"># main shell</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">((c=13)) <span class="comment"># main shell</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$a</span>, <span class="variable">$b</span>, <span class="variable">$c</span></span><br></pre></td></tr></table></figure>

<pre><code>, 12, 13
</code></pre>
<h2 id="substitution-pay-attention"><a href="#substitution-pay-attention" class="headerlink" title="substitution[pay attention]"></a>substitution[pay attention]</h2><p><strong>command substitution</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">files=`<span class="built_in">ls</span> *`</span><br></pre></td></tr></table></figure>
<p><strong>variable substitution</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$&#123;var:-word&#125;</span> <span class="comment">#if var null or unset, return word, unchanged var</span></span><br><span class="line"><span class="variable">$&#123;var:=word&#125;</span> <span class="comment">#if var null or unset, return word and set var=word</span></span><br><span class="line"><span class="variable">$&#123;var:?word&#125;</span> <span class="variable">$if</span> var null or <span class="built_in">unset</span>, <span class="built_in">print</span> word, unchanged var</span><br><span class="line"></span><br><span class="line"><span class="variable">$&#123;var:+word&#125;</span> <span class="variable">$if</span> var is <span class="built_in">set</span>, <span class="built_in">return</span> word, unchanged var</span><br></pre></td></tr></table></figure>
<p><strong>wildcard substitution</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">ls</span> *</span><br><span class="line">$ <span class="built_in">ls</span> [a]*</span><br><span class="line">$ <span class="built_in">ls</span> *.[ch]</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># The pattern matching is always greedy!!</span></span><br><span class="line"><span class="comment"># FOO is variable</span></span><br><span class="line">FOO=<span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="variable">$&#123;FOO%suffix&#125;</span>	Remove suffix</span><br><span class="line"><span class="variable">$&#123;FOO#prefix&#125;</span>	Remove prefix</span><br><span class="line"><span class="variable">$&#123;FOO%%suffix&#125;</span>	Remove long suffix</span><br><span class="line"><span class="variable">$&#123;FOO##prefix&#125;</span>	Remove long prefix</span><br><span class="line"></span><br><span class="line"><span class="variable">$&#123;FOO/from/to&#125;</span>	Replace first match</span><br><span class="line"><span class="variable">$&#123;FOO//from/to&#125;</span>	Replace all</span><br><span class="line"><span class="variable">$&#123;FOO/%from/to&#125;</span>	Replace suffix</span><br><span class="line"><span class="variable">$&#123;FOO/#from/to&#125;</span>	Replace prefix</span><br></pre></td></tr></table></figure>


<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"></span><br><span class="line">STR=<span class="string">&quot;/path/to/foo.cpp&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR%.cpp&#125;</span>    <span class="comment"># /path/to/foo</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR%.cpp&#125;</span>.o  <span class="comment"># /path/to/foo.o</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR##*.&#125;</span>     <span class="comment"># cpp (extension)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR##*/&#125;</span>     <span class="comment"># foo.cpp (basepath)</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR#*/&#125;</span>      <span class="comment"># path/to/foo.cpp</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR##*/&#125;</span>     <span class="comment"># foo.cpp</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;STR/foo/bar&#125;</span> <span class="comment"># /path/to/bar.cpp</span></span><br><span class="line"></span><br><span class="line">SRC=<span class="string">&quot;/path/to/foo.cpp&quot;</span></span><br><span class="line">BASE=<span class="variable">$&#123;SRC##*/&#125;</span>   <span class="comment">#=&gt; &quot;foo.cpp&quot; (basepath)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$BASE</span></span><br><span class="line">DIR=<span class="variable">$&#123;SRC%$BASE&#125;</span>  <span class="comment">#=&gt; &quot;/path/to/&quot; (dirpath)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$DIR</span></span><br></pre></td></tr></table></figure>

<pre><code>/path/to/foo
/path/to/foo.o
cpp
foo.cpp
path/to/foo.cpp
foo.cpp
/path/to/bar.cpp
foo.cpp
/path/to/
</code></pre>
<h2 id="compare-or-condition"><a href="#compare-or-condition" class="headerlink" title="compare or condition"></a>compare or condition</h2><p>[] is an<code> old way, used for string and number, file</code>, here are options for it,</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">- file     -d 	-c 	-b 	     -f 	-e(exist) 	-r 	-w 	-x(executable)</span><br><span class="line">- string   != 	= 	-n(non-zero string) 	-z(zero string)</span><br><span class="line">- integer(two characters for each operator!!!)  -eq -ne -lt -le -gt -ge(great than)</span><br><span class="line">- logical  -a(and) -o(or) !(negative)</span><br></pre></td></tr></table></figure>

<p><code>[[]] supports all options as []</code>, As a rule of thumb, </p>
<ul>
<li>[[ is used for strings and files.</li>
<li>numbers, use an (())</li>
</ul>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  = Set Equal to</span><br><span class="line"> *= Multiply</span><br><span class="line"> /= divide</span><br><span class="line"> %= Modulo</span><br><span class="line"> += Add</span><br><span class="line"> -= Subract</span><br><span class="line">&lt;&lt;= bitwise shift left</span><br><span class="line">&gt;&gt;= bitwise shift right</span><br><span class="line"> &amp;= bitwise AND</span><br><span class="line"> ^= bitwise XOR</span><br><span class="line"> |= bitwise NOT</span><br><span class="line"> == Test Equality</span><br><span class="line">!= Test Inequality</span><br><span class="line"> &lt; Less than</span><br><span class="line"> &gt; Greater than</span><br><span class="line">&lt;= Less than or equal</span><br><span class="line">&gt;= Greater than or equal</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&amp;&amp; and || used for logical</code></li>
<li><code>[[ support pattern matching [[ STRING =~ PATTERN ]]</code></li>
</ul>
<p>Difference:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">file=<span class="string">&quot;file name&quot;</span></span><br><span class="line">[[ -f <span class="variable">$file</span> ]] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$file</span> is a regular file&quot;</span></span><br><span class="line"><span class="comment"># will work even though $file is not quoted and contains whitespace.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># &quot;&quot; is a must as file has whitespace</span></span><br><span class="line">[ -f <span class="string">&quot;<span class="variable">$file</span>&quot;</span> ] &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$file</span> is a regular file&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#Parentheses() in [[ do not need to be escaped:</span></span><br><span class="line">[[ -f <span class="variable">$file1</span> &amp;&amp; (-d <span class="variable">$dir1</span> || -d <span class="variable">$dir2</span>) ]]</span><br><span class="line">[ -f <span class="string">&quot;<span class="variable">$file1</span>&quot;</span> -a \( -d <span class="string">&quot;<span class="variable">$dir1</span>&quot;</span> -o -d <span class="string">&quot;<span class="variable">$dir2</span>&quot;</span> \) ]</span><br></pre></td></tr></table></figure>

<p><strong>Implicit Conversion</strong></p>
<p><font color='red' size=4>The <code>-eq</code>(integer operators) causes the strings to be interpreted as integers if possible including base conversion</font></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="comment"># implicit convertion</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&#x27;1&#x27;</span> -eq 1 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;equal&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># comment it out to see implicit convertion</span></span><br><span class="line"><span class="comment"># if [ &#x27;1&#x27; -eq &quot;a&quot; ]; then # bash: line 7: [: a: integer expression expected</span></span><br><span class="line"><span class="comment">#    echo &quot;equal&quot;</span></span><br><span class="line"><span class="comment"># fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pattern matching for [[ ]]</span></span><br><span class="line">dig=123</span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$dig</span> =~ ^[0-9]+$ ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> Numeric</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> Non-numeric</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<pre><code>equal
Numeric
</code></pre>
<h2 id="flow-control"><a href="#flow-control" class="headerlink" title="flow control"></a>flow control</h2><p>There are several ways to do flow control, like if&#x2F;while&#x2F;for, let’s see each of them with example.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="built_in">let</span> a=1</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$a</span> -gt 2 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;a is greater than 2&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$a</span> -gt 1 ]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;a is greater than 1&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;a equal 0 or 1&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> [[ <span class="variable">$a</span> -gt 0 ]]; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$a</span></span><br><span class="line">  <span class="built_in">let</span> a=a-1</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">VAR=<span class="string">&quot;a b&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$VAR</span> <span class="comment"># VAR separated by space by default</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$VAR</span>&quot;</span> <span class="comment"># VAR as a whole</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for file in *</span></span><br><span class="line"><span class="comment"># for file in `ls`</span></span><br><span class="line"><span class="comment"># for .. in expanded_variable </span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> $(<span class="built_in">ls</span>); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$file</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (())</span></span><br><span class="line"><span class="keyword">for</span> ((i = 0; i &lt; 5; i++)); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">a=1</span><br><span class="line"><span class="comment"># case for shell pattern matching</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$a</span> <span class="keyword">in</span></span><br><span class="line">  <span class="string">&quot;1&quot;</span> | <span class="string">&quot;2&quot;</span>) <span class="built_in">echo</span> <span class="string">&quot;\$a matches pattern&quot;</span> ;;     <span class="comment"># ;; is a must like break</span></span><br><span class="line">  <span class="string">&quot;12*&quot;</span>) <span class="built_in">echo</span> <span class="string">&quot;\$a matches another pattern&quot;</span> ;; <span class="comment"># with ;; outside of case, as ;; is a break!</span></span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure>

<pre><code>a equal 0 or 1
1
a
b
a b
bash-basic.ipynb
0
1
2
3
4
$a matches pattern
</code></pre>
<h2 id="signal"><a href="#signal" class="headerlink" title="signal"></a>signal</h2><p>Set signal handler with trap command</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">trap</span> quit 2 3 9 <span class="comment">#signal handler</span></span><br><span class="line"><span class="function"><span class="title">quit</span></span>()&#123;</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;You can&#x27;t kill me!!!!!!!!!!!!!!!!&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="string-slice-of-string-pay-attention"><a href="#string-slice-of-string-pay-attention" class="headerlink" title="string(slice of string)[pay attention]"></a>string(slice of string)[pay attention]</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="comment"># string from index 0 !!!</span></span><br><span class="line">name=<span class="string">&quot;John&quot;</span></span><br><span class="line"><span class="comment"># [1-2]</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name:1:2&#125;</span> <span class="comment">#=&gt; &quot;oh&quot; (slicing)</span></span><br><span class="line"><span class="comment"># [0-2)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name::2&#125;</span> <span class="comment">#=&gt; &quot;Jo&quot; (slicing)</span></span><br><span class="line"><span class="comment"># [0-end)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name::-1&#125;</span> <span class="comment">#=&gt; &quot;Joh&quot; (slicing)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># count 4 from right</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;name:(-4)&#125;</span> <span class="comment">#=&gt; &quot;n&quot; (slicing from right)</span></span><br></pre></td></tr></table></figure>

<pre><code>oh
Jo
Joh
John
</code></pre>
<h2 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h2><h3 id="debug-shell"><a href="#debug-shell" class="headerlink" title="debug shell"></a>debug shell</h3><p><strong>check syntax</strong></p>
<p><code>$bash -n test.sh</code> just check syntax of test.sh</p>
<p><strong>debug shell</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">set</span> -x <span class="comment">#enable tracing will display all commands and their arguments as they execute.</span></span><br><span class="line"><span class="keyword">if</span> [ -z <span class="string">&quot;<span class="variable">$1</span>&quot;</span> ] ; <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;ERROR: Insufficient Args.&quot;</span></span><br><span class="line">    <span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">set</span> +x <span class="comment">#disable tracing</span></span><br></pre></td></tr></table></figure>

<h3 id="redirect"><a href="#redirect" class="headerlink" title="redirect"></a>redirect</h3><ul>
<li>stdin——————-0</li>
<li>stdout——————1</li>
<li>stderr——————2</li>
</ul>
<p><code>&gt;</code> just redirects the <code>stdout</code> to file <code>without stderr</code>.</p>
<p><code>$ls no_file.txt &gt;log.t 2&gt;&amp;1</code></p>
<h3 id="cd-vs-pushd-x2F-popd"><a href="#cd-vs-pushd-x2F-popd" class="headerlink" title="cd vs pushd&#x2F;popd"></a>cd vs pushd&#x2F;popd</h3><p>With <code>cd</code> you need to write the path explicitly, while <code>pushd/popd, you don&#39;t need remember the original path</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#pushd /home/lzq </span></span><br><span class="line">(save the current <span class="built_in">dir</span> on stack and go to /home/lzq)</span><br><span class="line"><span class="comment">#popd</span></span><br><span class="line">(<span class="built_in">return</span> to the saved <span class="built_in">dir</span>)</span><br></pre></td></tr></table></figure>

<h3 id="vs-vs-let-vs-expr"><a href="#vs-vs-let-vs-expr" class="headerlink" title="() vs (()) vs let vs expr"></a>() vs (()) vs let vs expr</h3><ul>
<li>() is used for <code>command groups with subshell</code>, you can <code>run any command in subshell</code></li>
<li>(()) and let are just for <code>integer</code>, <code>not in subshell</code></li>
<li>expr is only for <code>integer operation</code> as well as expr is a command, so $ is a must for variable!!!</li>
<li><code>$[]</code> is for <code>integer operation</code> as well</li>
</ul>
<p><strong>NOTE: bash only supports integer operation <code>when do integer operation $ can be omitted for variable</code></strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line">(</span><br><span class="line">  <span class="built_in">echo</span> hello</span><br><span class="line">  var1=<span class="string">&quot;subshell&quot;</span></span><br><span class="line">)</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$var1</span> <span class="comment">#never see var1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> $(</span><br><span class="line">  <span class="built_in">echo</span> hello</span><br><span class="line">  var1=<span class="string">&quot;subshell&quot;</span></span><br><span class="line">) <span class="comment"># get output from subshell!!!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># (()) only for integer, $ can be omitted.</span></span><br><span class="line">((var2 = <span class="string">&quot;ab&quot;</span>))</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$var2</span> <span class="comment">#integer value 0!!!</span></span><br><span class="line"></span><br><span class="line">((var2 = 10))</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$var2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># let</span></span><br><span class="line"><span class="built_in">let</span> var2=10</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$var2</span></span><br><span class="line"><span class="built_in">let</span> var2=<span class="string">&quot;ab&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$var2</span></span><br><span class="line"></span><br><span class="line">a=<span class="string">&quot;1&quot;</span></span><br><span class="line">b=<span class="string">&quot;2&quot;</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$a</span>&quot;</span> = <span class="string">&quot;<span class="variable">$b</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;equal&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># must add space for each operator!!!</span></span><br><span class="line"><span class="built_in">expr</span> <span class="variable">$RANDOM</span> % 10</span><br><span class="line">b=`<span class="built_in">expr</span> <span class="variable">$RANDOM</span> % 10 + 3`</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$b</span></span><br><span class="line"><span class="built_in">echo</span> `<span class="built_in">expr</span> 2 + 3`</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;============$(())=========&#x27;</span></span><br><span class="line"><span class="comment"># the last value is used as `return` value</span></span><br><span class="line"><span class="built_in">echo</span> $((<span class="number">2</span>+<span class="number">3</span>))</span><br><span class="line"><span class="built_in">echo</span> $((<span class="number">2</span>+<span class="number">3</span>,<span class="number">4</span>+<span class="number">5</span>,a=<span class="number">15</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;============$[]=========&#x27;</span></span><br><span class="line"><span class="built_in">echo</span> $[2+3]</span><br><span class="line"><span class="built_in">echo</span> $[2+3,4+5]</span><br><span class="line"><span class="built_in">echo</span> $[a=15,5+5]</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$a</span></span><br></pre></td></tr></table></figure>

<pre><code>hello

hello
0
10
10
0
3
8
5
============$(())=========
5
15
============$[]=========
5
9
10
15
</code></pre>
<h3 id="vs"><a href="#vs" class="headerlink" title="[] vs [[]]"></a>[] vs [[]]</h3><p><code>[ (&quot;test&quot; command) and [[ (&quot;new test&quot; command) are used to evaluate expressions. [[ works only in Bash, Zsh and the Korn shell, and is more powerful; [ and test are available in POSIX shells.</code></p>
<p><a target="_blank" rel="noopener" href="http://mywiki.wooledge.org/BashFAQ/031">difference</a></p>
<h3 id="brace-expansion"><a href="#brace-expansion" class="headerlink" title="brace expansion"></a>brace expansion</h3><p>Used to <code>generate list of string or number</code> with prefix or suffix for each item, <code>prefix or suffix is optional</code>.</p>
<p><code>&#123;&#125; linked each item with prefix and suffix if has</code>, <strong><code>print it as a single string</code></strong><br><strong>use case</strong></p>
<ul>
<li><code>_&#123;a..f&#125;_</code></li>
<li><code>&#123;a,b,c&#125;</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="built_in">echo</span> &#123;a,b&#125; <span class="comment"># no space between each item echo &#123;a, b&#125; will get unexpected!!!</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> _&#123;a, b&#125;_ <span class="comment"># see the result</span></span><br><span class="line"><span class="comment"># if you want to use space between item, escape it</span></span><br><span class="line"><span class="built_in">echo</span> _&#123;a,\ b&#125;_ <span class="comment"># see the result</span></span><br><span class="line"><span class="built_in">echo</span> not_prefix prefix_&#123;a,b&#125;_suffix not_suffix <span class="comment"># see which part is prefix and suffix</span></span><br><span class="line"><span class="built_in">echo</span> &#123;a..f&#125;</span><br><span class="line"><span class="built_in">echo</span> 1.&#123;1..10&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> &#123;1..5..2&#125;; <span class="keyword">do</span> <span class="comment"># with step 2 default 1</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print each item(item seperated by whitespace) on a new line</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%s\n&quot;</span> &#123;item1,item2&#125;</span><br></pre></td></tr></table></figure>

<pre><code>a b
_&#123;a, b&#125;_
_a_ _ b_
not_prefix prefix_a_suffix prefix_b_suffix not_suffix
a b c d e f
1.1 1.2 1.3 1.4 1.5 1.6 1.7 1.8 1.9 1.10
1
3
5
item1
item2
</code></pre>
<h3 id="read-a-file"><a href="#read-a-file" class="headerlink" title="read a file"></a>read a file</h3><p>you can read a whole file at one time or read it line by line</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># read whole into memory at once</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> $(<span class="built_in">cat</span> file.txt); <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$line</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># read line by line</span></span><br><span class="line"><span class="comment"># read is keyword !!!</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> line; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$line</span></span><br><span class="line"><span class="keyword">done</span> &lt; file.txt</span><br></pre></td></tr></table></figure>

<h3 id="dict-in-shell-pay-attention"><a href="#dict-in-shell-pay-attention" class="headerlink" title="dict in shell [pay attention]"></a>dict in shell [pay attention]</h3><p>In order to use dict, you must declare it first like this </p>
<ul>
<li><code>declare -A sounds</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="comment"># dict requires declare first!!!</span></span><br><span class="line"><span class="built_in">declare</span> -A sounds</span><br><span class="line">sounds[dog]=<span class="string">&quot;bark&quot;</span> <span class="comment"># same: sounds[&#x27;dog&#x27;]=&quot;bark&quot; &#x27;&#x27; is only needed when has space in key</span></span><br><span class="line">sounds[cow]=<span class="string">&quot;moo&quot;</span></span><br><span class="line">sounds[bird]=<span class="string">&quot;tweet&quot;</span></span><br><span class="line">sounds[wolf]=<span class="string">&quot;howl&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;sounds[dog]&#125;</span>  <span class="comment"># same: echo $&#123;sounds[&#x27;dog&#x27;]&#125;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;sounds[@]&#125;</span>&quot;</span>  <span class="comment"># All values</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$&#123;!sounds[@]&#125;</span>&quot;</span> <span class="comment"># All keys</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;#sounds[@]&#125;</span>   <span class="comment"># Number of elements</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;!sounds[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$key</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$&#123;sounds[@]&#125;</span>&quot;</span>; <span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$val</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">unset</span> sounds[dog] <span class="comment"># Delete dog</span></span><br></pre></td></tr></table></figure>

<pre><code>bark
bark howl moo tweet
dog wolf cow bird
4
dog
wolf
cow
bird
bark
howl
moo
tweet
</code></pre>
<h3 id="difference-with-or-without-“”-for-variable-expansion"><a href="#difference-with-or-without-“”-for-variable-expansion" class="headerlink" title="difference with or without “” for variable expansion"></a>difference with or without “” for variable expansion</h3><p>In most shells, leaving a variable expansion unquoted is like invoking some sort of implicit split+glob operator.</p>
<p><code>$var</code><br>In another language would be written something like:<br><code>glob(split($var))</code></p>
<p><code>$var</code> is first split into a list of words according to complex rules involving the <code>$IFS</code> special parameter (the split part) and then each word resulting of that splitting is considered as a pattern which is expanded.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line">wds=<span class="string">&quot;hello boy&quot;</span></span><br><span class="line"><span class="keyword">for</span> wd <span class="keyword">in</span> <span class="variable">$wds</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$wd</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> wd <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$wds</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$wd</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">o=$(<span class="built_in">ls</span> -l)</span><br><span class="line"><span class="keyword">for</span> lt <span class="keyword">in</span> <span class="variable">$o</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$lt</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> lt <span class="keyword">in</span> <span class="string">&quot;<span class="variable">$o</span>&quot;</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;count&quot;</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$lt</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<pre><code>hello
boy
hello boy
total
40
-rw-r--r--
1
root
root
37693
Mar
30
14:51
bash-basic.ipynb
count
total 40 -rw-r--r-- 1 root root 37693 Mar 30 14:51 bash-basic.ipynb
</code></pre>
<h3 id="IFS"><a href="#IFS" class="headerlink" title="IFS"></a>IFS</h3><p>IFS: The Internal Field Separator that is used for <strong>word splitting after expansion and to split lines into words</strong> with the read builtin command.  The default value is <code>&lt;space&gt;&lt;tab&gt;&lt;newline&gt;</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="comment"># defautl IFS</span></span><br><span class="line">str=<span class="string">&quot;hello boy&quot;</span></span><br><span class="line"><span class="keyword">for</span> elm <span class="keyword">in</span> <span class="variable">$str</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$elm</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">IFS=<span class="string">&quot;,&quot;</span></span><br><span class="line">str=<span class="string">&quot;hello,boy&quot;</span></span><br><span class="line"><span class="keyword">for</span> elm <span class="keyword">in</span> <span class="variable">$str</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$elm</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<pre><code>hello
boy
hello
boy
</code></pre>
<h3 id="include-file"><a href="#include-file" class="headerlink" title="include file"></a>include file</h3><p>Use <code>source</code> or <code>.</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">source</span> /path/s.sh</span><br><span class="line">. /path/s.sh</span><br><span class="line"><span class="comment">#. (dot) command is an alias to source</span></span><br></pre></td></tr></table></figure>

<h3 id="random-number"><a href="#random-number" class="headerlink" title="random number"></a>random number</h3><p><code>$RANDOM</code> is the random number</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$RANDOM</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$RANDOM</span></span><br></pre></td></tr></table></figure>

<pre><code>3784
8785
</code></pre>
<h3 id="do-another-operation-if-first-command-runs-ok"><a href="#do-another-operation-if-first-command-runs-ok" class="headerlink" title="do another operation if first command runs ok"></a>do another operation if first command runs ok</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"></span><br><span class="line"><span class="comment"># one way</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">ls</span> /tmp &gt;/dev/null;<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs ok&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs badly&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">ls</span> /not_exist &gt;/dev/null 2&gt;&amp;1;<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs ok&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs badly&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># this way only support ok, no more control</span></span><br><span class="line"><span class="built_in">ls</span> /tmp&gt;/dev/null 2&gt;&amp;1 &amp;&amp; <span class="built_in">echo</span> <span class="string">&quot;ls runs ok&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># same as the first way</span></span><br><span class="line"><span class="built_in">ls</span> /tmp&gt;/dev/null 2&gt;&amp;1</span><br><span class="line"><span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs ok&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs badly&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">ls</span> /not_exist&gt;/dev/null 2&gt;&amp;1</span><br><span class="line"><span class="keyword">if</span> [ $? -eq 0 ];<span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs ok&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;ls runs badly&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<pre><code>ls runs ok
ls runs badly
ls runs ok
ls runs ok
ls runs badly
</code></pre>
<h3 id="quotes"><a href="#quotes" class="headerlink" title="quotes"></a>quotes</h3><p>for assignment in bash, the righ must be a <code>single word</code>, so <code>S=&quot;a b&quot;</code> has the same with <code>S=a\ b</code>, “” to make a string as a whole, like below</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="string">&quot;a b&quot;</span> <span class="comment"># &quot;a b&quot; as a whole</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span> <span class="comment"># execute only once</span></span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line">S=<span class="string">&quot;a b&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="variable">$S</span>  <span class="comment"># same as for i in a b(&quot;&quot; is removed for var expansion)</span></span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="variable">$i</span> <span class="comment"># execute twice!!!</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure>

<h3 id="check-string-contains"><a href="#check-string-contains" class="headerlink" title="check string contains"></a>check string contains</h3><p>To check if a string contains a substring</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">%%bash</span><br><span class="line"><span class="comment"># wildcard way1</span></span><br><span class="line">STR=<span class="string">&#x27;GNU/Linux is an operating system&#x27;</span></span><br><span class="line">SUB=<span class="string">&#x27;Linux&#x27;</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$STR</span>&quot;</span> == *<span class="string">&quot;<span class="variable">$SUB</span>&quot;</span>* ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s there.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># case operator way2</span></span><br><span class="line">STR=<span class="string">&#x27;GNU/Linux is an operating system&#x27;</span></span><br><span class="line">SUB=<span class="string">&#x27;Linux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$STR</span> <span class="keyword">in</span></span><br><span class="line"></span><br><span class="line">  *<span class="string">&quot;<span class="variable">$SUB</span>&quot;</span>*)</span><br><span class="line">    <span class="built_in">echo</span>  <span class="string">&quot;It&#x27;s there.&quot;</span></span><br><span class="line">    ;;</span><br><span class="line"><span class="keyword">esac</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Regex Operator way3</span></span><br><span class="line">STR=<span class="string">&#x27;GNU/Linux is an operating system&#x27;</span></span><br><span class="line">SUB=<span class="string">&#x27;Linux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> [[ <span class="string">&quot;<span class="variable">$STR</span>&quot;</span> =~ <span class="string">&quot;<span class="variable">$SUB</span>&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s there.&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># grep way4</span></span><br><span class="line">STR=<span class="string">&#x27;GNU/Linux is an operating system&#x27;</span></span><br><span class="line">SUB=<span class="string">&#x27;Linux&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> grep -q <span class="string">&quot;<span class="variable">$SUB</span>&quot;</span> &lt;&lt;&lt; <span class="string">&quot;<span class="variable">$STR</span>&quot;</span>; <span class="keyword">then</span></span><br><span class="line">  <span class="built_in">echo</span> <span class="string">&quot;It&#x27;s there&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<pre><code>It&#39;s there.
It&#39;s there.
It&#39;s there.
It&#39;s there
</code></pre>
<h1 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h1><ul>
<li><a target="_blank" rel="noopener" href="https://devhints.io/bash">bash cheatsheet</a></li>
<li><a target="_blank" rel="noopener" href="https://tldp.org/LDP/Bash-Beginners-Guide/html/sect_03_04.html">shell expansion</a></li>
</ul>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpeg" alt="Jason WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/bash/" rel="tag"># bash</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/12/16/http-protocol-connection/" rel="prev" title="http-protocol-connection">
                  <i class="fa fa-chevron-left"></i> http-protocol-connection
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/01/02/c-language-tips/" rel="next" title="c-language-tips">
                  c-language-tips <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cyun All rights reserved</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"jason-bj/blog","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
