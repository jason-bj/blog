<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
  <meta name="google-site-verification" content="xitt2fbphh1nTeWLiTWc0lCggHuxJ5heMcAzkHW2vno">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Microsoft+YaHei+UI:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha256-DfWjNxDkM94fVBWx1H5BMMp0Zq7luBlV8QRcSES7s+0=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/themes/blue/pace-theme-minimal.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pace/1.2.4/pace.min.js" integrity="sha256-gqd7YTjg/BtfqWSwsJOvndl0Bxc8gFImLEkXQT8+qj0=" crossorigin="anonymous"></script>

<script class="next-config" data-name="main" type="application/json">{"hostname":"cyun.tech","root":"/","images":"/images","scheme":"Pisces","darkmode":false,"version":"8.11.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":true,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"utterances","storage":true,"lazyload":false,"nav":null,"activeClass":"utterances"},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.json","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":-1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>

    <meta name="description" content="GitAfter clone a repo from git server, git actually setups three areas for you, one is working directory(you alway see), staging(index) area(cache) and repository, git commands mainly work on these th">
<meta property="og:type" content="article">
<meta property="og:title" content="git-command">
<meta property="og:url" content="http://cyun.tech/2019/12/03/git-command/index.html">
<meta property="og:site_name" content="CYun">
<meta property="og:description" content="GitAfter clone a repo from git server, git actually setups three areas for you, one is working directory(you alway see), staging(index) area(cache) and repository, git commands mainly work on these th">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://git-scm.com/images/about/index1@2x.png">
<meta property="og:image" content="https://git-scm.com/images/about/index2@2x.png">
<meta property="og:image" content="https://git-scm.com/book/en/v2/images/lifecycle.png">
<meta property="article:published_time" content="2019-12-03T04:54:05.000Z">
<meta property="article:modified_time" content="2024-10-14T07:33:45.127Z">
<meta property="article:author" content="Jason">
<meta property="article:tag" content="git">
<meta property="article:tag" content="tools">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://git-scm.com/images/about/index1@2x.png">


<link rel="canonical" href="http://cyun.tech/2019/12/03/git-command/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"http://cyun.tech/2019/12/03/git-command/","path":"2019/12/03/git-command/","title":"git-command"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>git-command | CYun</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-148730544-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-148730544-1","only_pageview":false}</script>
  <script src="/js/third-party/analytics/google-analytics.js"></script>

  <script src="/js/third-party/analytics/baidu-analytics.js"></script>
  <script async src="https://hm.baidu.com/hm.js?a510d1f580c8231f8f867d14f42bb8ea"></script>




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">CYun</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Git"><span class="nav-number">1.</span> <span class="nav-text">Git</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#File-Status"><span class="nav-number">1.1.</span> <span class="nav-text">File Status</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#config"><span class="nav-number">1.2.</span> <span class="nav-text">config</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#commands"><span class="nav-number">1.3.</span> <span class="nav-text">commands</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#git-review"><span class="nav-number">1.3.1.</span> <span class="nav-text">git review</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-branch"><span class="nav-number">1.3.2.</span> <span class="nav-text">git branch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#diff-x2F-add-x2F-rm-x2F-commit-x2F-reset"><span class="nav-number">1.3.3.</span> <span class="nav-text">diff&#x2F;add&#x2F;rm&#x2F;commit&#x2F;reset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pull-x2F-push-x2F-merge-x2F-cherry-pick-x2F-rebase"><span class="nav-number">1.3.4.</span> <span class="nav-text">pull&#x2F;push&#x2F;merge&#x2F;cherry-pick&#x2F;rebase</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-log"><span class="nav-number">1.3.5.</span> <span class="nav-text">git log</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-patch"><span class="nav-number">1.3.6.</span> <span class="nav-text">git patch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#git-tag"><span class="nav-number">1.3.7.</span> <span class="nav-text">git tag</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#merge-commit-from-another-repo"><span class="nav-number">1.3.8.</span> <span class="nav-text">merge commit from another repo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#git-filter-repo"><span class="nav-number">1.4.</span> <span class="nav-text">git filter-repo</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#FAQ"><span class="nav-number">1.5.</span> <span class="nav-text">FAQ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#cherry-pick-part-of-a-commit"><span class="nav-number">1.5.1.</span> <span class="nav-text">cherry-pick part of a commit</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#clean-untracked-files-and-untracked-dirs"><span class="nav-number">1.5.2.</span> <span class="nav-text">clean untracked files and untracked dirs</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#see-commit-for-each-line-of-a-file"><span class="nav-number">1.5.3.</span> <span class="nav-text">see commit for each line of a file</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#check-if-local-branch-tracked-or-not"><span class="nav-number">1.5.4.</span> <span class="nav-text">check if local branch tracked or not</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#hide-local-change-not-add-to-staging-area"><span class="nav-number">1.5.5.</span> <span class="nav-text">hide local change, not add to staging area</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#move-one-repo-from-one-server-to-another"><span class="nav-number">1.5.6.</span> <span class="nav-text">move one repo from one server to another</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#binary-search"><span class="nav-number">1.5.7.</span> <span class="nav-text">binary search</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#see-history-for-git-commit-%E2%80%93amend"><span class="nav-number">1.5.8.</span> <span class="nav-text">see history for git commit –amend</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#diff-format"><span class="nav-number">1.5.9.</span> <span class="nav-text">diff format</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#how-many-commits"><span class="nav-number">1.5.10.</span> <span class="nav-text">how many commits</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#show-commits-of-all-users"><span class="nav-number">1.5.11.</span> <span class="nav-text">show commits of all users</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#see-latest-commit-of-all-branches"><span class="nav-number">1.5.12.</span> <span class="nav-text">see latest commit of all branches</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#submodule"><span class="nav-number">1.5.13.</span> <span class="nav-text">submodule</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Ref"><span class="nav-number">1.6.</span> <span class="nav-text">Ref</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Jason"
      src="/uploads/avatar.gif">
  <p class="site-author-name" itemprop="name">Jason</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">150</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">143</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">149</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author site-overview-item animated">
      <span class="links-of-author-item">
        <a href="https://github.com/jason-cyun" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jason-cyun" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:jason_lkm@163.com" title="E-Mail → mailto:jason_lkm@163.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



        </div>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="http://cyun.tech/2019/12/03/git-command/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.gif">
      <meta itemprop="name" content="Jason">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CYun">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="git-command | CYun">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          git-command
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2019-12-03 12:54:05" itemprop="dateCreated datePublished" datetime="2019-12-03T12:54:05+08:00">2019-12-03</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2024-10-14 15:33:45" itemprop="dateModified" datetime="2024-10-14T15:33:45+08:00">2024-10-14</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/git/" itemprop="url" rel="index"><span itemprop="name">git</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/git/command/" itemprop="url" rel="index"><span itemprop="name">command</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h1><p>After clone a repo from git server, git actually setups three areas for you, one is working directory(you alway see), staging(index) area(cache) and repository, git commands mainly work on these three areas, staging area is an intermediate area where commits can be formatted and reviewed before completing the commit.</p>
<p>One thing that sets Git apart from other tools is that it’s possible to quickly <code>stage some of your files</code> and <code>commit them without committing all of the other modified files</code> in your working directory or having to list them on the command line during the commit.</p>
<p><img src="https://git-scm.com/images/about/index1@2x.png" alt="stage area"></p>
<span id="more"></span>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># you edit a.c b.c d.c while you only staged a.c b.c</span></span><br><span class="line">$ git add a.c b.c</span><br><span class="line"></span><br><span class="line"><span class="comment"># only commit a.c b.c to repository</span></span><br><span class="line">$ git commit -m <span class="string">&quot;commit staged a.c b.c&quot;</span></span><br></pre></td></tr></table></figure>

<p>Add a ‘-a’ to your commit command in order to add all changed files to the staging area.</p>
<p><img src="https://git-scm.com/images/about/index2@2x.png" alt="commit all changed"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#  commit add modified a.c b.c d.c</span></span><br><span class="line">$ git commit -am <span class="string">&quot;commit a.c b.c d.c&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="File-Status"><a href="#File-Status" class="headerlink" title="File Status"></a>File Status</h2><p><img src="https://git-scm.com/book/en/v2/images/lifecycle.png" alt="file status"></p>
<p>Files in the working directory can be in the following states as shown by git status:</p>
<ul>
<li><p>“Untracked”: the file in the working directory is not in the index. It must be added to the index before it can be committed to the repository.</p>
</li>
<li><p>“Changed but not updated”: The file in the working directory is not the same version as in the index. git add is used to add the working directory version to the index. If a commit is done before git add, the version in the index will be put in the repository. The version in the working directory be untouched and will be different than the version in the index and the repository.</p>
</li>
<li><p>“Changes to be committed”: The file in the working directory is the same version as in the index. The file is ready for a commit.</p>
</li>
<li><p>not listed: if a file is not shown in git status then the file in the working directory is the same version as in the index and repository.</p>
</li>
<li><p>“new file”: git add has been done (the file is in the index). The file has not been committed to the repository. It can be removed from the index or could be committed to the repository.</p>
</li>
<li><p>“modified”: the version in the working directory is different than the version in the index. It can be removed from the index or could be committed to the repository.</p>
</li>
<li><p>“deleted”: git rm has removed the file from the working directory and index but has not removed it from the repository. git reset HEAD file_name can be used to restore the file from the repository to the index and working directory. git commit will make the removal permanent.</p>
</li>
</ul>
<h2 id="config"><a href="#config" class="headerlink" title="config"></a>config</h2><p>In order to use git, it’s better to config it, here is an example of the config file located at <code>~/.gitconfig</code>, edit it directly or use cli to do the config</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">&quot;Your Name&quot;</span></span><br><span class="line">$ git config --global user.email <span class="string">&quot;your_email@whatever.com&quot;</span></span><br><span class="line">$ git config --global core.autocrlf input</span><br><span class="line">$ git config --global core.safecrlf <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p><strong>edit file directly</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">[push]</span><br><span class="line">        default = simple</span><br><span class="line">[user]</span><br><span class="line">        name = Jason</span><br><span class="line">        email = xx@yy.com</span><br><span class="line">[core]</span><br><span class="line">        #提交时转换为LF，检出时转换为CRLF</span><br><span class="line">        #git config --global core.autocrlf true</span><br><span class="line">        #提交时转换为LF，检出时不转换</span><br><span class="line">        #git config --global core.autocrlf input</span><br><span class="line">        #提交检出均不转换</span><br><span class="line">        #git config --global core.autocrlf false</span><br><span class="line"></span><br><span class="line">        #拒绝提交包含混合换行符的文件</span><br><span class="line">        #git config --global core.safecrlf true</span><br><span class="line">        #允许提交包含混合换行符的文件</span><br><span class="line">        #git config --global core.safecrlf false</span><br><span class="line">        #提交包含混合换行符的文件时给出警告</span><br><span class="line">        #git config --global core.safecrlf warn</span><br><span class="line"></span><br><span class="line">        autocrlf = input</span><br><span class="line">        safecrlf = warn</span><br><span class="line">        editor = vim</span><br><span class="line">[pack]</span><br><span class="line">        windowMemory = 1g</span><br><span class="line">[http]</span><br><span class="line">        postbuffer = 524288000</span><br><span class="line">#        sslverify = true</span><br><span class="line">#        proxy = http://proxy.company.com:3128</span><br><span class="line">#[sendemail]</span><br><span class="line">#       smtpencryption = ssl</span><br><span class="line">#       smtpserver = stbeehive.xxx.com</span><br><span class="line">#       smtpuser = xx@yy.com</span><br><span class="line">#       smtpserverpot = 465</span><br><span class="line">#       suppresscc = all</span><br><span class="line">#       confirm = always</span><br><span class="line"></span><br><span class="line">#you can suppress particular type emails to auto cc list by</span><br><span class="line">#signedoffbycc = no</span><br><span class="line">#suppressfrom = yes</span><br><span class="line">#cocover = no</span><br><span class="line">#cccover = no</span><br><span class="line"></span><br><span class="line">#another alternate way, simple</span><br><span class="line">#suppresscc=all</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># check git config</span></span><br><span class="line">$ git config --list</span><br></pre></td></tr></table></figure>

<h2 id="commands"><a href="#commands" class="headerlink" title="commands"></a>commands</h2><h3 id="git-review"><a href="#git-review" class="headerlink" title="git review"></a>git review</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># this will check the .gitreview and push diff to that server</span></span><br><span class="line">$ git review</span><br><span class="line">$ <span class="built_in">cat</span> .gitreview </span><br><span class="line">[gerrit]</span><br><span class="line">host=git.xxy.com</span><br><span class="line">project=fw_ver/cdb</span><br><span class="line">port=12023</span><br><span class="line">track=<span class="literal">true</span></span><br><span class="line">usepushurl=<span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OR use below if review server and repo uses are same(ugly way)</span></span><br><span class="line"><span class="comment"># git push origin HEAD:refs/for/&lt;branch_name&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="git-branch"><a href="#git-branch" class="headerlink" title="git branch"></a>git branch</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show local branches</span></span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># switch to branch</span></span><br><span class="line">$ git checkout <span class="variable">$branch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create a branch based on current | tag | based branch</span></span><br><span class="line">$ git branch <span class="variable">$branch</span> [tag|base branch]</span><br><span class="line"></span><br><span class="line"><span class="comment"># create then switch to new branch</span></span><br><span class="line">$ git checkout -b <span class="variable">$branch</span> [tag | branchname]</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a master(same name as remote branch) branch and set it track</span></span><br><span class="line">$ git checkout --track origin/master</span><br><span class="line"></span><br><span class="line">$ git branch -d <span class="variable">$branch</span></span><br><span class="line">$ git branch -D <span class="variable">$branch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># as you know git pull pulls changes from remote server to remote branch</span></span><br><span class="line"><span class="comment"># origin/$branch, lets say if you create a branch from origin/master called master, if master does not track origin/master, so after git pull origin/master is updated but master is not, better set track for master branch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># show local and its remote tracking branch if has</span></span><br><span class="line">$ git branch -vv</span><br><span class="line"><span class="comment"># set remote tracking branch(origin/master) for local master branch</span></span><br><span class="line">$ git branch --set-upstream-to=origin/master master</span><br><span class="line"></span><br><span class="line"><span class="comment"># to see which local branch contains a particular commit</span></span><br><span class="line">$ git branch --contains da6f215e4a6f379d094acd31c71c7696dae50afc</span><br><span class="line"></span><br><span class="line"><span class="comment"># to see which remote branch contains a particular commit.</span></span><br><span class="line">$ git branch -r --contains da6f215e4a6f379d094acd31c71c7696dae50afc</span><br><span class="line"></span><br><span class="line"><span class="comment"># show remote branches</span></span><br><span class="line">$ git branch -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># push or create a new branch on remote server</span></span><br><span class="line">$ git push origin <span class="variable">$branch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># delete a branch from remote server</span></span><br><span class="line">$ git push origin :<span class="variable">$branch</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># list branches which contains a given branch, also meaning the given branch merged into them</span></span><br><span class="line">$ git branch --contains <span class="variable">$branch</span> -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># list branches which are merged into a given branch, also meaning the given branch contains them</span></span><br><span class="line">$ git branch --merged master -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># list branches which are not merged into a given branch, also meaning the given branch does not contain them</span></span><br><span class="line">$ git branch --no-merged master -a</span><br></pre></td></tr></table></figure>

<h3 id="diff-x2F-add-x2F-rm-x2F-commit-x2F-reset"><a href="#diff-x2F-add-x2F-rm-x2F-commit-x2F-reset" class="headerlink" title="diff&#x2F;add&#x2F;rm&#x2F;commit&#x2F;reset"></a>diff&#x2F;add&#x2F;rm&#x2F;commit&#x2F;reset</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># compare working dir with staging area and staging area with repo then show status for all files</span></span><br><span class="line">$ git status .</span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"><span class="comment"># show modification of head commit or a given commit</span></span><br><span class="line">$ git show</span><br><span class="line">$ git show <span class="variable">$commit</span></span><br><span class="line"><span class="comment"># show file content of a given commit</span></span><br><span class="line">$ git show <span class="variable">$commit</span>:path/to/file</span><br><span class="line"></span><br><span class="line"><span class="comment"># show diff between two commits</span></span><br><span class="line">$ git diff --name-only <span class="variable">$commitidA</span>..<span class="variable">$commitidB</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># show diff between working dir and staging area</span></span><br><span class="line">$ git diff <span class="variable">$file</span></span><br><span class="line">$ git diff .</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"><span class="comment"># show diff between staging area and repo</span></span><br><span class="line">$ git diff --cached</span><br><span class="line">$ git diff --cached <span class="variable">$file</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># add changes to staging area</span></span><br><span class="line">$ git add .</span><br><span class="line">$ git add <span class="variable">$file</span></span><br><span class="line">$ git add <span class="variable">$dir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># commit changes</span></span><br><span class="line">$ git commit -m <span class="string">&quot;only commit changes in staging area&quot;</span></span><br><span class="line">$ git commit -a -m <span class="string">&quot;no need git add, but only commit all tracked files&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># edit a submitted commit without creating a new commit</span></span><br><span class="line">$ git add <span class="variable">$update</span></span><br><span class="line">$ git commit --amend</span><br><span class="line"></span><br><span class="line"><span class="comment"># reset staging area, modification in working dir remains</span></span><br><span class="line">$ git reset --soft HEAD^ <span class="comment"># reset to previous commit and keep modification</span></span><br><span class="line">$ git reset --soft <span class="variable">$commit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># reset staging area and working dir, repo both three part</span></span><br><span class="line"><span class="comment"># commit and changes before this commit are lost!!!</span></span><br><span class="line">$ git reset --hard <span class="variable">$commit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># discard changes in working dir</span></span><br><span class="line">$ git checkout [<span class="variable">$commit</span>] -- <span class="variable">$file</span></span><br><span class="line">$ git checkout [<span class="variable">$commit</span>] -f <span class="variable">$file</span></span><br><span class="line"></span><br><span class="line">$ git checkout [<span class="variable">$commit</span>] -- <span class="variable">$dir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># delete files from working dir</span></span><br><span class="line">$ git <span class="built_in">rm</span> *.c</span><br><span class="line">$ git <span class="built_in">rm</span> -r <span class="variable">$dir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># delete files from index(staging area)</span></span><br><span class="line">$ git <span class="built_in">rm</span> --cached *.c</span><br></pre></td></tr></table></figure>

<h3 id="pull-x2F-push-x2F-merge-x2F-cherry-pick-x2F-rebase"><a href="#pull-x2F-push-x2F-merge-x2F-cherry-pick-x2F-rebase" class="headerlink" title="pull&#x2F;push&#x2F;merge&#x2F;cherry-pick&#x2F;rebase"></a>pull&#x2F;push&#x2F;merge&#x2F;cherry-pick&#x2F;rebase</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># fetch latest code from remote server to remote branch (git branch -r)</span></span><br><span class="line"><span class="comment"># update local branch(git branch) if they track remote branch.</span></span><br><span class="line">$ git pull</span><br><span class="line"></span><br><span class="line"><span class="comment"># fetch latest code from remote server to remote branch (git branch -r)</span></span><br><span class="line"><span class="comment"># but not update local branch even they track remote branch</span></span><br><span class="line">$ git fetch</span><br><span class="line"></span><br><span class="line"><span class="comment"># push commit changes on current branch to remote server(origin/xxx branch tracked)</span></span><br><span class="line">$ git push [--force]</span><br><span class="line"></span><br><span class="line"><span class="comment"># push commit changes on another branch to remote server</span></span><br><span class="line">$ git push origin <span class="variable">$branch</span> [--force]</span><br><span class="line"></span><br><span class="line"><span class="comment"># rebase can do: delete commit, edit commit, merge commit etc</span></span><br><span class="line"><span class="comment"># rebase the top 3 commits, but they may conflict when rebasing</span></span><br><span class="line">$ git rebase -i HEAD~3</span><br><span class="line">$ git rebase -i <span class="variable">$commit</span> <span class="comment"># rebase from it to current</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if conflicts happen when rebasing do below or abort rebasing</span></span><br><span class="line">$ git status . <span class="comment"># check conflict files, the solve conflicts.</span></span><br><span class="line">$ git add <span class="variable">$fixed_conflict_file</span></span><br><span class="line">$ git rebase --<span class="built_in">continue</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">$ git rebase --abort</span><br><span class="line"></span><br><span class="line"><span class="comment"># cherry-pick pick a commit or commits to local branch</span></span><br><span class="line"><span class="comment"># -x   append a line that says &quot;(cherry picked from commit …​)&quot; to the original commit message</span></span><br><span class="line"><span class="comment"># -s   --sign-off</span></span><br><span class="line"><span class="comment"># -e   --edit</span></span><br><span class="line">$ git cherry-pick -x -s -e <span class="variable">$start</span>^..<span class="variable">$end</span> [start-end]</span><br><span class="line">$ git cherry-pick -x -s -e <span class="variable">$start</span>..<span class="variable">$end</span> (start-end]</span><br><span class="line"></span><br><span class="line">$ git cherry-pick -x -s -e <span class="variable">$commit</span></span><br><span class="line">$ git cherry-pick -x -s -e <span class="variable">$commit</span> <span class="variable">$commit</span> <span class="comment"># in order</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if conflicts happen when cherry-picking do below or abort</span></span><br><span class="line">$ git status . <span class="comment"># check conflict files</span></span><br><span class="line">$ git add <span class="variable">$fix_confict_files</span></span><br><span class="line">$ git cherry-pick --<span class="built_in">continue</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># OR</span></span><br><span class="line">$ git cherry-pick --abort</span><br><span class="line"></span><br><span class="line"><span class="comment"># revert a commit, will create a new commit for this revert action</span></span><br><span class="line">$ git revert -i <span class="variable">$commit</span></span><br><span class="line">$ git revert HEAD</span><br><span class="line">$ git revert HEAD^ (revert two commits)</span><br><span class="line"></span><br><span class="line"><span class="comment"># merge dev to current branch, commit one by one at last create a merge commit</span></span><br><span class="line">$ git merge dev</span><br></pre></td></tr></table></figure>

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">git pull vs git pull --rebase</span><br><span class="line">when updating local branch(if it tracks remote branch), git pull will pull all new changes from remote branch then create a merge commit(contains all changes) on local branch</span><br><span class="line">while git pull --rebase will cherry-pick new changes from remote branch to local branch</span><br><span class="line"></span><br><span class="line">Example:</span><br><span class="line">(D--E master is local branch)</span><br><span class="line">Suppose you have two commits in local branch:</span><br><span class="line"></span><br><span class="line">      D---E master</span><br><span class="line">     /</span><br><span class="line">A---B---C---F origin/master</span><br><span class="line"></span><br><span class="line">After &quot;git pull&quot;, will be:</span><br><span class="line"></span><br><span class="line">      D--------E</span><br><span class="line">     /          \</span><br><span class="line">A---B---C---F----G   master</span><br><span class="line"></span><br><span class="line">After &quot;git pull --rebase&quot;, there will be no merge point G. Note that (D and E become different commits!)</span><br><span class="line"></span><br><span class="line">A---B---C---F---D&#x27;---E&#x27;   master</span><br></pre></td></tr></table></figure>

<h3 id="git-log"><a href="#git-log" class="headerlink" title="git log"></a>git log</h3><p><strong>commit date vs author date</strong><br>In Git, the <code>author date is when someone first creates a commit with git commit</code>.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show logs</span></span><br><span class="line">$ git <span class="built_in">log</span> process.c                            <span class="comment"># logs of one file</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline .                          <span class="comment"># oneline logs of the current dir</span></span><br><span class="line">$ git <span class="built_in">log</span>  -10 --reverse                       <span class="comment"># top 10 logs of repo in reverse order</span></span><br><span class="line">$ git <span class="built_in">log</span>  <span class="variable">$old_commit</span>..<span class="variable">$new_commit</span>            <span class="comment"># logs(commit) between two commits (old, new]</span></span><br><span class="line">$ git <span class="built_in">log</span> --oneline <span class="variable">$old_commit</span>~..<span class="variable">$new_commit</span>            <span class="comment"># logs(commit) between two commits [old, new]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># show logs of a particular author at a period of time</span></span><br><span class="line">$ git <span class="built_in">log</span>  --author=jason --since=<span class="string">&quot;2016-02-01&quot;</span> <span class="comment"># --before=&quot;2016-02-11&quot;</span></span><br><span class="line">$ git <span class="built_in">log</span> -p <span class="variable">$commit</span>                           <span class="comment"># show changes of given commit</span></span><br><span class="line"></span><br><span class="line"><span class="comment">####################### change author of commit ###################################</span></span><br><span class="line"><span class="comment"># change current commit author from command line</span></span><br><span class="line">$ git commit --amend --author=<span class="string">&quot;Author Name &lt;email@address.com&gt;&quot;</span> --no-edit</span><br><span class="line"><span class="comment"># change Committer and Author for current commit</span></span><br><span class="line">$ GIT_COMMITTER_NAME=<span class="string">&quot;Jason&quot;</span> GIT_COMMITTER_EMAIL=<span class="string">&quot;jaluo@163.com&quot;</span> git commit --amend --author=<span class="string">&quot;Jason &lt;jaluo@163.com&gt;&quot;</span> --no-edit</span><br><span class="line"></span><br><span class="line"><span class="comment"># without edit commit msg but update author based on currect ~/.gitconfig</span></span><br><span class="line">$ git config user.name <span class="string">&quot;New User&quot;</span></span><br><span class="line">$ git config user.email <span class="string">&quot;newuser@gmail.com&quot;</span></span><br><span class="line">$ git commit --amend --reset-author --no-edit</span><br><span class="line"></span><br><span class="line"><span class="comment">####################### change date of commit ###################################</span></span><br><span class="line"><span class="comment">#for each commit, there are two dates, author date(when create the patch) and commit date</span></span><br><span class="line">$ git <span class="built_in">log</span>                                      <span class="comment"># only show author date, but the log is sorted by commit date)</span></span><br><span class="line">$ git <span class="built_in">log</span> --pretty=fuller                      <span class="comment"># show both dates(author date and commit date)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># overwrite author date when edit a commit by --date option</span></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> this will reset commit date as well, equal with author date</span></span><br><span class="line"><span class="comment"># &#x27;+0800&#x27; is the timezone</span></span><br><span class="line">$ git commit --amend --<span class="built_in">date</span>=now</span><br><span class="line">$ git commit --amend --<span class="built_in">date</span>=<span class="string">&quot;Wed Jun 22 22:28:27 2022 +0800&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># without edit commit msg  but update author date(also commit date) to now</span></span><br><span class="line">$ git commit --amend --<span class="built_in">date</span>=now --no-edit</span><br><span class="line"></span><br><span class="line"><span class="comment"># without edit commit msg  but only update commit date to now</span></span><br><span class="line">$ git commit --amend --no-edit</span><br><span class="line"></span><br><span class="line"><span class="comment"># show author date and commit data</span></span><br><span class="line">$ git <span class="built_in">log</span> --pretty=fuller .</span><br><span class="line"></span><br><span class="line"><span class="comment"># change commit date and author date to specific time</span></span><br><span class="line">$ GIT_COMMITTER_DATE=<span class="string">&quot;Wed Jun 22 22:28:27 2022 +0800&quot;</span> git commit --amend --no-edit --<span class="built_in">date</span>=<span class="string">&quot;Wed Jun 22 22:28:27 2022 +0800&quot;</span></span><br></pre></td></tr></table></figure>

<h3 id="git-patch"><a href="#git-patch" class="headerlink" title="git patch"></a>git patch</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># create two patches HEAD~2 and print them out</span></span><br><span class="line">$ git format-patch -2 --stdout</span><br><span class="line"><span class="comment"># create 2 patch files</span></span><br><span class="line">$ git format-patch -2 -o out <span class="comment"># save to out dir</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create one patch file with several commits</span></span><br><span class="line"><span class="comment"># commits with [cc1dde0dd, 6de6d4b06]</span></span><br><span class="line">$ git format-patch cc1dde0dd^..6de6d4b06 --stdout &gt; foo.patch</span><br><span class="line"><span class="comment"># each patch in this file is applied separately!!!</span></span><br><span class="line">$ git am foo.patch</span><br><span class="line"></span><br><span class="line"><span class="comment"># apply a git patch</span></span><br><span class="line">$ git apply [-p1] xx.patch</span><br><span class="line"></span><br><span class="line"><span class="comment"># apply with commit msg</span></span><br><span class="line">$ git am xx.patch</span><br><span class="line"></span><br><span class="line"><span class="comment"># revert a applied patch</span></span><br><span class="line">$ git apply --reverse xx.patch</span><br><span class="line"></span><br><span class="line"><span class="comment"># The --reject option will instruct git to not fail if it cannot determine how to apply a patch,</span></span><br><span class="line"><span class="comment"># but instead to apply individual hunks it can apply and create reject files (.rej) for hunks it cannot apply</span></span><br><span class="line">git apply --reject --whitespace=fix xx.patch</span><br></pre></td></tr></table></figure>

<h3 id="git-tag"><a href="#git-tag" class="headerlink" title="git tag"></a>git tag</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># show all tags</span></span><br><span class="line">$ git tag -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a tag on HEAD or given commit</span></span><br><span class="line">$ git tag <span class="variable">$tname</span></span><br><span class="line">$ git tag <span class="variable">$tname</span> <span class="variable">$commit</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># update a tag with new commit</span></span><br><span class="line">$ git tag -f <span class="variable">$tname</span> <span class="variable">$new_commit</span></span><br><span class="line"><span class="comment"># delete a tag</span></span><br><span class="line">$ git tag -d <span class="variable">$tname</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># push all local tags to remote server</span></span><br><span class="line">$ git push --tags</span><br><span class="line">$ git push -f --tags</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete a tag from remote server</span></span><br><span class="line">$ git push origin :refs/tags/<span class="variable">$tname</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create tag with commit</span></span><br><span class="line">$ git tag -a -m <span class="string">&quot;comments&quot;</span> <span class="variable">$tname</span> [<span class="variable">$commitid</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># update a tag</span></span><br><span class="line">$ git tag -f -a -m <span class="string">&quot;comments&quot;</span> <span class="variable">$tname</span> [<span class="variable">$commitid</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># show the commit that a tag points to</span></span><br><span class="line">$ git rev-list -1 <span class="variable">$tname</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># show all tags which contain a specific commit</span></span><br><span class="line">$ git tag --contains 95d0a8e</span><br></pre></td></tr></table></figure>

<h3 id="merge-commit-from-another-repo"><a href="#merge-commit-from-another-repo" class="headerlink" title="merge commit from another repo"></a>merge commit from another repo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># nginx as another repo, want to merge one commint from nginx repo</span></span><br><span class="line">$ git remote add nginx https://github.com/nginx/nginx.git</span><br><span class="line">$ git remote show</span><br><span class="line">nginx</span><br><span class="line">origin</span><br><span class="line"></span><br><span class="line"><span class="comment"># show nginx remote branch</span></span><br><span class="line">$ git remote show nginx</span><br><span class="line">* remote nginx</span><br><span class="line">  Fetch URL: https://github.com/nginx/nginx.git</span><br><span class="line">  Push  URL: https://github.com/nginx/nginx.git</span><br><span class="line">  HEAD branch: master</span><br><span class="line">  Remote branches:</span><br><span class="line">    branches/default         new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/radix_with_skip new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-0.5      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-0.6      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-0.7      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-0.8      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.0      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.10     new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.12     new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.14     new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.16     new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.18     new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.2      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.20     new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.4      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.6      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    branches/stable-1.8      new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">    master                   new (next fetch will store <span class="keyword">in</span> remotes/nginx)</span><br><span class="line">  Local ref configured <span class="keyword">for</span> <span class="string">&#x27;git push&#x27;</span>:</span><br><span class="line">    master pushes to master (<span class="built_in">local</span> out of <span class="built_in">date</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">######################### Fetch ###########################</span></span><br><span class="line"><span class="comment"># fetch one branch to local than we can merge from it</span></span><br><span class="line">$ git fetch nginx branches/stable-1.18</span><br><span class="line">$ git branch -r</span><br><span class="line">nginx/branches/stable-1.18</span><br><span class="line"></span><br><span class="line"><span class="comment"># Or fetch all branches to local</span></span><br><span class="line">$ git remote update</span><br><span class="line"></span><br><span class="line"><span class="comment">######################### Merge ###########################</span></span><br><span class="line"><span class="comment"># Then cherry pick, or merge, delte remote is optional</span></span><br><span class="line">... cherry pick, merge .....</span><br><span class="line">$ git merge  nginx/branches/stable-1.18 <span class="comment"># merge to current branch</span></span><br><span class="line">$ git remote remove nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># OR you can create a local copy or just use  nginx/branches/stable-1.18</span></span><br><span class="line">$ git checkout  nginx/branches/stable-1.18 -b stable-1.18</span><br><span class="line">... cherry pick, merge .....</span><br><span class="line">$ git branch -D stable-1.18</span><br><span class="line">$ git remote remove nginx</span><br></pre></td></tr></table></figure>

<h2 id="git-filter-repo"><a href="#git-filter-repo" class="headerlink" title="git filter-repo"></a>git filter-repo</h2><p>Rewrite git history tool</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ pip3 install git-filter-repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># examples</span></span><br><span class="line">$ </span><br></pre></td></tr></table></figure>

<h2 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h2><h3 id="cherry-pick-part-of-a-commit"><a href="#cherry-pick-part-of-a-commit" class="headerlink" title="cherry-pick part of a commit"></a>cherry-pick part of a commit</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick -x -s -e -n <span class="variable">$commit</span>  <span class="comment"># -n is the key</span></span><br><span class="line">$ git checkout HEAD -- <span class="variable">$not_wanted_files</span></span><br><span class="line">$ git add <span class="variable">$wanted_file</span></span><br><span class="line">$ git cherry-pick --<span class="built_in">continue</span></span><br></pre></td></tr></table></figure>
<h3 id="clean-untracked-files-and-untracked-dirs"><a href="#clean-untracked-files-and-untracked-dirs" class="headerlink" title="clean untracked files and untracked dirs"></a>clean untracked files and untracked dirs</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Cleans the working tree by recursively removing files that are not under version control, starting from the current directory.</span></span><br><span class="line"><span class="comment"># Normally, only files unknown to Git are removed, but if the -x option is specified, ignored files are also removed. This can, for example, be useful to remove all build products.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -d</span></span><br><span class="line"><span class="comment">#   Remove untracked directories in addition to untracked files. If an untracked directory is managed by a different Git repository, it is not removed by default</span></span><br><span class="line"><span class="comment"># -x</span></span><br><span class="line"><span class="comment">#   Don’t use the standard ignore rules read from .gitignore (per directory) and $GIT_DIR/info/exclude, but do still use the ignore rules given with -e</span></span><br><span class="line"><span class="comment">#   options. This allows removing all untracked files, including build products. This can be used (possibly in conjunction with git reset) to create a pristine</span></span><br><span class="line"><span class="comment">#   working directory to test a clean build.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -f, --force</span></span><br><span class="line"><span class="comment">#   If the Git configuration variable clean.requireForce is not set to false, git clean will refuse to run unless given -f or -n.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># -n, --dry-run</span></span><br><span class="line"><span class="comment">#   Don’t actually remove anything, just show what would be done.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># -X</span></span><br><span class="line"><span class="comment">#   Remove only files ignored by Git. This may be useful to rebuild everything from scratch, but keep manually created files.</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># <span class="doctag">NOTE:</span> -x will delete manually created files!!!</span></span><br><span class="line">$ git clean -xdf</span><br></pre></td></tr></table></figure>
<h3 id="see-commit-for-each-line-of-a-file"><a href="#see-commit-for-each-line-of-a-file" class="headerlink" title="see commit for each line of a file"></a>see commit for each line of a file</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git annotate <span class="variable">$file</span></span><br></pre></td></tr></table></figure>
<h3 id="check-if-local-branch-tracked-or-not"><a href="#check-if-local-branch-tracked-or-not" class="headerlink" title="check if local branch tracked or not"></a>check if local branch tracked or not</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -vv</span><br><span class="line"></span><br><span class="line"><span class="comment"># set track</span></span><br><span class="line">$ git checkout master</span><br><span class="line">$ git branch --set-upstream-to=origin/master</span><br></pre></td></tr></table></figure>
<h3 id="hide-local-change-not-add-to-staging-area"><a href="#hide-local-change-not-add-to-staging-area" class="headerlink" title="hide local change, not add to staging area"></a>hide local change, not add to staging area</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># you have to switch to another branch but you don&#x27;t want to commit your local change and you want to keep the changes</span></span><br><span class="line"></span><br><span class="line">$ git stash                   <span class="comment"># hide the local change</span></span><br><span class="line">$ git status                  <span class="comment"># will show everything is up to date</span></span><br><span class="line"></span><br><span class="line">$ git stash list              <span class="comment"># show the hidden change</span></span><br><span class="line">$ git stash show -p stask@[2] <span class="comment"># show the changed on that stash</span></span><br><span class="line">$ git stash apply stash@[2]   <span class="comment"># restore that stash</span></span><br><span class="line">$ git stash pop               <span class="comment"># restore the latest stashed local changes</span></span><br><span class="line"></span><br><span class="line">$ git stash clear             <span class="comment"># drop all stashes, drop save hidden changes</span></span><br></pre></td></tr></table></figure>

<h3 id="move-one-repo-from-one-server-to-another"><a href="#move-one-repo-from-one-server-to-another" class="headerlink" title="move one repo from one server to another"></a>move one repo from one server to another</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># copy from org</span></span><br><span class="line">$ git <span class="built_in">clone</span> --bare <span class="variable">$org_uri</span>/project.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># create a new repo at new server</span></span><br><span class="line">$ <span class="built_in">cd</span> project.git</span><br><span class="line">$ git push --mirror <span class="variable">$new_uri</span></span><br></pre></td></tr></table></figure>

<h3 id="binary-search"><a href="#binary-search" class="headerlink" title="binary search"></a>binary search</h3><p><strong>find which commit introduces a bug</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># good as the low bad as the high commit()</span></span><br><span class="line"><span class="comment"># For example. one good commit you know is goodcmt</span></span><br><span class="line"><span class="comment"># one bad commit you know is badcmt</span></span><br><span class="line">$ git bisect reset</span><br><span class="line">$ git bisect start</span><br><span class="line">$ git bisect good <span class="variable">$goodcmt</span></span><br><span class="line">$ git bisect bad <span class="variable">$badcmt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#after this, the middle commit is checked out, test it</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the middle commit works</span></span><br><span class="line">$ git bisect good</span><br><span class="line"><span class="comment"># Or not work</span></span><br><span class="line">$ git bisect bad</span><br></pre></td></tr></table></figure>

<p><strong>find which commit fixes the bug</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># For example. one good commit you know is goodcmt</span></span><br><span class="line"><span class="comment"># one bad commit you know is badcmt</span></span><br><span class="line">$ git bisect reset</span><br><span class="line">$ git bisect start</span><br><span class="line">$ git bisect good <span class="variable">$badcmt</span></span><br><span class="line">$ git bisect bad <span class="variable">$goodcmt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#after this, the middle commit is checked out, test it</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># if the middle commit works</span></span><br><span class="line">$ git bisect bad</span><br><span class="line"><span class="comment"># Or not work</span></span><br><span class="line">$ git bisect good</span><br></pre></td></tr></table></figure>

<h3 id="see-history-for-git-commit-–amend"><a href="#see-history-for-git-commit-–amend" class="headerlink" title="see history for git commit –amend"></a>see history for git commit –amend</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git reflog</span><br><span class="line"><span class="comment"># reset the latest git commit --amend and keep the change</span></span><br><span class="line">$ git reset --soft @&#123;1&#125;</span><br><span class="line">$ git reset HEAD</span><br></pre></td></tr></table></figure>
<h3 id="diff-format"><a href="#diff-format" class="headerlink" title="diff format"></a>diff format</h3><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">diff --git a/src/core/ngx_conf_file.c b/src/core/ngx_conf_file.c</span></span><br><span class="line"><span class="comment">index 98e9df6..359178c 100644</span></span><br><span class="line"><span class="comment">--- a/src/core/ngx_conf_file.c</span></span><br><span class="line"><span class="comment">+++ b/src/core/ngx_conf_file.c</span></span><br><span class="line"><span class="meta">@@ -1418,6 +1418,7 @@</span> ngx_conf_set_bitmask_slot(ngx_conf_t *cf, ngx_command_t *cmd, void *conf)</span><br><span class="line"></span><br><span class="line">     np = (ngx_uint_t *) (p + cmd-&gt;offset);</span><br><span class="line">     value = cf-&gt;args-&gt;elts;</span><br><span class="line"><span class="addition">+    /* supported ignore haders */</span></span><br><span class="line">     mask = cmd-&gt;post;</span><br><span class="line"></span><br><span class="line">     for (i = 1; i &lt; cf-&gt;args-&gt;nelts; i++) &#123;</span><br><span class="line"><span class="meta">@@ -1429,11 +1430,13 @@</span> ngx_conf_set_bitmask_slot(ngx_conf_t *cf, ngx_command_t *cmd, void *conf)</span><br><span class="line">                 continue;</span><br><span class="line">             &#125;</span><br><span class="line"></span><br><span class="line"><span class="addition">+            /* get supported ignore header */</span></span><br><span class="line">             if (*np &amp; mask[m].mask) &#123;</span><br><span class="line">                 ngx_conf_log_error(NGX_LOG_WARN, cf, 0,</span><br><span class="line">                                    &quot;duplicate value \&quot;%s\&quot;&quot;, value[i].data);</span><br><span class="line"></span><br><span class="line">             &#125; else &#123;</span><br><span class="line"><span class="addition">+                /* set corresponding bit with 1, means ignore such header */</span></span><br><span class="line">                 *np |= mask[m].mask;</span><br><span class="line">             &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>Hunk 1</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">-1418,6</span><br><span class="line">    -:    old file</span><br><span class="line">    1418: old file line</span><br><span class="line">    6:    continuous lines</span><br><span class="line"></span><br><span class="line">+1418,7</span><br><span class="line">    +:    new file</span><br><span class="line">    1418: new file line</span><br><span class="line">    7:    continuous lines</span><br><span class="line"></span><br><span class="line">6---&gt;7 one line added</span><br><span class="line"></span><br><span class="line">total means:</span><br><span class="line">old file from 1418(total 6 lines) changed as below(diff part)</span><br><span class="line">from line 1418(total 7 lines) in new file</span><br></pre></td></tr></table></figure>

<p><strong>Hunk 2</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-1429,11</span><br><span class="line">    -:    old file</span><br><span class="line">    1429: old file line</span><br><span class="line">    11:   continuous lines</span><br><span class="line"></span><br><span class="line">+1430,13</span><br><span class="line">    +:    new file</span><br><span class="line">    1430: new file line</span><br><span class="line">    13:   continuous lines</span><br><span class="line"></span><br><span class="line">11--&gt;13 means two lines added</span><br><span class="line"></span><br><span class="line">total means:</span><br><span class="line">old file from 1429(total 11 lines) changed as below(diff part)</span><br><span class="line">from line 1430(total 13 lines) in new file</span><br><span class="line"></span><br><span class="line"># old line number counting no Hunk 1 applied</span><br><span class="line"># new line counting        with Hunk 1 applied</span><br><span class="line"></span><br><span class="line">so you can see new line from 1430, as Hunk1 added 1 line!!!</span><br></pre></td></tr></table></figure>
<h3 id="how-many-commits"><a href="#how-many-commits" class="headerlink" title="how many commits"></a>how many commits</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># how many commits from HEAD to the beginning</span></span><br><span class="line">$ git rev-list HEAD --count</span><br><span class="line">$ git rev-list <span class="variable">$commit</span> --count</span><br><span class="line"></span><br><span class="line"><span class="comment"># find the nth commit from beginning</span></span><br><span class="line"><span class="variable">$git</span> rev-list HEAD --count</span><br><span class="line">total</span><br><span class="line"><span class="variable">$git</span> <span class="built_in">log</span> --skip=$(total-nth) --max-count=1</span><br><span class="line"></span><br><span class="line"><span class="comment"># find the 3th commit from beginning</span></span><br><span class="line"><span class="variable">$git</span> rev-list HEAD --count</span><br><span class="line">10</span><br><span class="line"><span class="comment"># 7 = 10-3</span></span><br><span class="line"><span class="variable">$git</span> <span class="built_in">log</span> --skip=7 --max-count=1</span><br></pre></td></tr></table></figure>

<h3 id="show-commits-of-all-users"><a href="#show-commits-of-all-users" class="headerlink" title="show commits of all users"></a>show commits of all users</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># with log title of each commit</span></span><br><span class="line">$ git shortlog</span><br><span class="line">Álvaro Fernández Rojas (1):</span><br><span class="line">      net: dsa: tag_brcm: add support <span class="keyword">for</span> legacy tags</span><br><span class="line"></span><br><span class="line"><span class="comment">#  without log title for each commit and no order</span></span><br><span class="line">$ git shortlog -s</span><br><span class="line">...</span><br><span class="line">1 Álvaro Fernández Rojas</span><br><span class="line"></span><br><span class="line"><span class="comment"># order by author(commit count from high to low) for current dir</span></span><br><span class="line">$ git shortlog -n -s .</span><br><span class="line">66  Wang Xiao</span><br><span class="line">52  lishaipeng</span><br><span class="line"> 3  YaZenzeng</span><br><span class="line"> ...</span><br><span class="line"></span><br><span class="line"><span class="comment"># order by author(commit count from high to low) for whole repo</span></span><br><span class="line">$ git shortlog -ns --all --no-merges</span><br><span class="line"></span><br><span class="line"><span class="comment"># count commits submitted by given author</span></span><br><span class="line">$ git shortlog -n -s --author=jason</span><br></pre></td></tr></table></figure>

<h3 id="see-latest-commit-of-all-branches"><a href="#see-latest-commit-of-all-branches" class="headerlink" title="see latest commit of all branches"></a>see latest commit of all branches</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># order latest commit of each branch by Date</span></span><br><span class="line">$ git branch -r | grep -v HEAD | <span class="keyword">while</span> <span class="built_in">read</span> b; <span class="keyword">do</span> git <span class="built_in">log</span> -n 1 --color --format=<span class="string">&quot;%ci _%C(magenta)%cr %C(bold cyan)<span class="variable">$b</span>%Creset %s %C(bold blue)&lt;%an&gt;%Creset&quot;</span> <span class="variable">$b</span> ;<span class="keyword">done</span> | <span class="built_in">sort</span> -r</span><br><span class="line"><span class="comment"># get top 20</span></span><br><span class="line">$ git branch -r | grep -v HEAD | <span class="keyword">while</span> <span class="built_in">read</span> b; <span class="keyword">do</span> git <span class="built_in">log</span> -n 1 --color --format=<span class="string">&quot;%ci _%C(magenta)%cr %C(bold cyan)<span class="variable">$b</span>%Creset %s %C(bold blue)&lt;%an&gt;%Creset&quot;</span> <span class="variable">$b</span> ;<span class="keyword">done</span> | <span class="built_in">sort</span> -r | <span class="built_in">head</span> -20</span><br></pre></td></tr></table></figure>

<h3 id="submodule"><a href="#submodule" class="headerlink" title="submodule"></a>submodule</h3><p><a target="_blank" rel="noopener" href="https://training.github.com/downloads/submodule-vs-subtree-cheat-sheet/">submodule cheat-sheet</a></p>
<h2 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h2><ul>
<li><a target="_blank" rel="noopener" href="http://library.edgecase.com/git_immersion/index.htm">Using git</a></li>
</ul>

    </div>

    
    
    
      


    <footer class="post-footer">
          <div class="reward-container">
  <div></div>
  <button>
    Donate
  </button>
  <div class="post-reward">
      <div>
        <img src="/images/wechatpay.jpeg" alt="Jason WeChat Pay">
        <span>WeChat Pay</span>
      </div>

  </div>
</div>

          <div class="post-tags">
              <a href="/tags/git/" rel="tag"># git</a>
              <a href="/tags/tools/" rel="tag"># tools</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2019/11/29/linux-memory-checker/" rel="prev" title="linux-memory-checker">
                  <i class="fa fa-chevron-left"></i> linux-memory-checker
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2019/12/13/http-protocol-overview/" rel="next" title="http-protocol-overview">
                  http-protocol-overview <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    <div class="comments utterances-container"></div>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2018 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cyun All rights reserved</span>
</div>

    </div>
  </footer>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js" integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/next-boot.js"></script><script src="/js/bookmark.js"></script>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.0/search.js" integrity="sha256-vXZMYLEqsROAXkEw93GGIvaB2ab+QW6w3+1ahD9nXXA=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>



  <script src="/js/third-party/fancybox.js"></script>

  <script src="/js/third-party/pace.js"></script>

  




<script class="next-config" data-name="utterances" type="application/json">{"enable":true,"repo":"jason-bj/blog","issue_term":"pathname","theme":"github-light"}</script>
<script src="/js/third-party/comments/utterances.js"></script>

</body>
</html>
